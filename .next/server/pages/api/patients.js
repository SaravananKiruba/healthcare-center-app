"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/patients";
exports.ids = ["pages/api/patients"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpatients&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpatients%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpatients&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpatients%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_patients_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\patients\\index.js */ \"(api)/./pages/api/patients/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_patients_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_patients_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/patients\",\n        pathname: \"/api/patients\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_patients_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnBhdGllbnRzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNwYXRpZW50cyU1Q2luZGV4LmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzZEO0FBQzdEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx5REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMseURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2FyZS1jZW50ZXItbmV4dGpzLz9jYmY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccGF0aWVudHNcXFxcaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wYXRpZW50c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BhdGllbnRzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpatients&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpatients%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_3__.PrismaClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error(\"Invalid credentials\");\n                }\n                const user = await prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user || !user.isActive) {\n                    throw new Error(\"Invalid credentials\");\n                }\n                const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().compare(credentials.password, user.hashedPassword);\n                if (!isPasswordValid) {\n                    throw new Error(\"Invalid credentials\");\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.fullName,\n                    role: user.role\n                };\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.role = user.role;\n                token.id = user.id;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/login\"\n    },\n    secret: \"your-secret-key-change-this-in-production\"\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFpQztBQUNpQztBQUNwQztBQUNnQjtBQUU5QyxNQUFNSSxTQUFTLElBQUlELHdEQUFZQTtBQUUvQixpRUFBZUgsZ0RBQVFBLENBQUM7SUFDdEJLLFdBQVc7UUFDVEosc0VBQW1CQSxDQUFDO1lBQ2xCSyxNQUFNO1lBQ05DLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQUVDLE9BQU87b0JBQVNDLE1BQU07Z0JBQVE7Z0JBQ3ZDQyxVQUFVO29CQUFFRixPQUFPO29CQUFZQyxNQUFNO2dCQUFXO1lBQ2xEO1lBQ0EsTUFBTUUsV0FBVUwsV0FBVztnQkFDekIsSUFBSSxDQUFDQSxhQUFhQyxTQUFTLENBQUNELGFBQWFJLFVBQVU7b0JBQ2pELE1BQU0sSUFBSUUsTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTUMsT0FBTyxNQUFNVixPQUFPVSxJQUFJLENBQUNDLFVBQVUsQ0FBQztvQkFDeENDLE9BQU87d0JBQ0xSLE9BQU9ELFlBQVlDLEtBQUs7b0JBQzFCO2dCQUNGO2dCQUVBLElBQUksQ0FBQ00sUUFBUSxDQUFDQSxLQUFLRyxRQUFRLEVBQUU7b0JBQzNCLE1BQU0sSUFBSUosTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTUssa0JBQWtCLE1BQU1oQix1REFBYyxDQUMxQ0ssWUFBWUksUUFBUSxFQUNwQkcsS0FBS00sY0FBYztnQkFHckIsSUFBSSxDQUFDRixpQkFBaUI7b0JBQ3BCLE1BQU0sSUFBSUwsTUFBTTtnQkFDbEI7Z0JBRUEsT0FBTztvQkFDTFEsSUFBSVAsS0FBS08sRUFBRTtvQkFDWGIsT0FBT00sS0FBS04sS0FBSztvQkFDakJGLE1BQU1RLEtBQUtRLFFBQVE7b0JBQ25CQyxNQUFNVCxLQUFLUyxJQUFJO2dCQUNqQjtZQUNGO1FBQ0Y7S0FDRDtJQUNEQyxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxXQUFXO1FBQ1QsTUFBTUMsS0FBSSxFQUFFQyxLQUFLLEVBQUVkLElBQUksRUFBRTtZQUN2QixJQUFJQSxNQUFNO2dCQUNSYyxNQUFNTCxJQUFJLEdBQUdULEtBQUtTLElBQUk7Z0JBQ3RCSyxNQUFNUCxFQUFFLEdBQUdQLEtBQUtPLEVBQUU7WUFDcEI7WUFDQSxPQUFPTztRQUNUO1FBQ0EsTUFBTUosU0FBUSxFQUFFQSxPQUFPLEVBQUVJLEtBQUssRUFBRTtZQUM5QixJQUFJQSxPQUFPO2dCQUNUSixRQUFRVixJQUFJLENBQUNPLEVBQUUsR0FBR08sTUFBTVAsRUFBRTtnQkFDMUJHLFFBQVFWLElBQUksQ0FBQ1MsSUFBSSxHQUFHSyxNQUFNTCxJQUFJO1lBQ2hDO1lBQ0EsT0FBT0M7UUFDVDtJQUNGO0lBQ0FLLE9BQU87UUFDTEMsUUFBUTtJQUNWO0lBQ0FDLFFBQVFDLDJDQUEyQjtBQUNyQyxFQUFFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjYXJlLWNlbnRlci1uZXh0anMvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzPzUyN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoIGZyb20gJ25leHQtYXV0aCc7XHJcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcclxuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5cclxuY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoe1xyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XHJcbiAgICAgIG5hbWU6ICdjcmVkZW50aWFscycsXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcclxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogJ1Bhc3N3b3JkJywgdHlwZTogJ3Bhc3N3b3JkJyB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xyXG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjcmVkZW50aWFscycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNyZWRlbnRpYWxzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShcclxuICAgICAgICAgIGNyZWRlbnRpYWxzLnBhc3N3b3JkLFxyXG4gICAgICAgICAgdXNlci5oYXNoZWRQYXNzd29yZFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY3JlZGVudGlhbHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgbmFtZTogdXNlci5mdWxsTmFtZSxcclxuICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIF0sXHJcbiAgc2Vzc2lvbjoge1xyXG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxyXG4gIH0sXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgdG9rZW4ucm9sZSA9IHVzZXIucm9sZTtcclxuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWQ7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XHJcbiAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLmlkO1xyXG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc2Vzc2lvbjtcclxuICAgIH0sXHJcbiAgfSxcclxuICBwYWdlczoge1xyXG4gICAgc2lnbkluOiAnL2xvZ2luJyxcclxuICB9LFxyXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxyXG59KTtcclxuIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsImJjcnlwdCIsIlByaXNtYUNsaWVudCIsInByaXNtYSIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJFcnJvciIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpc0FjdGl2ZSIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJoYXNoZWRQYXNzd29yZCIsImlkIiwiZnVsbE5hbWUiLCJyb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJwYWdlcyIsInNpZ25JbiIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].js\n");

/***/ }),

/***/ "(api)/./pages/api/patients/index.js":
/*!*************************************!*\
  !*** ./pages/api/patients/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth_nextauth___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth/[...nextauth] */ \"(api)/./pages/api/auth/[...nextauth].js\");\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n// Helper function to validate and sanitize patient data\nconst validateAndSanitizePatientData = (data)=>{\n    console.log(\"Validating patient data:\", data);\n    const { name, guardianName, address, age, sex, occupation, mobileNumber, chiefComplaints, medicalHistory, physicalGenerals, menstrualHistory, foodAndHabit, userId// Extract userId if present\n     } = data;\n    // Required fields validation with detailed error messages\n    const errors = [];\n    if (!name || typeof name !== \"string\" || !name.trim()) errors.push(\"Name is required\");\n    if (!address || typeof address !== \"string\" || !address.trim()) errors.push(\"Address is required\");\n    if (age === undefined || age === null || age === \"\" || isNaN(parseInt(age))) errors.push(\"Age is required and must be a number\");\n    if (!sex || sex !== \"Male\" && sex !== \"Female\" && sex !== \"Other\") errors.push(\"Sex is required (Male, Female, or Other)\");\n    // Additional validation for the commonly failing fields\n    if (!mobileNumber) {\n        errors.push(\"Mobile number is required\");\n        console.error(\"Mobile number validation failed: empty value\");\n    } else if (typeof mobileNumber !== \"string\") {\n        errors.push(\"Mobile number must be a string\");\n        console.error(\"Mobile number validation failed: not a string\", typeof mobileNumber);\n    } else if (!mobileNumber.trim()) {\n        errors.push(\"Mobile number cannot be empty\");\n        console.error(\"Mobile number validation failed: empty string\");\n    }\n    if (!chiefComplaints) {\n        errors.push(\"Chief complaints are required\");\n        console.error(\"Chief complaints validation failed: empty value\");\n    } else if (typeof chiefComplaints !== \"string\") {\n        errors.push(\"Chief complaints must be a string\");\n        console.error(\"Chief complaints validation failed: not a string\", typeof chiefComplaints);\n    } else if (!chiefComplaints.trim()) {\n        errors.push(\"Chief complaints cannot be empty\");\n        console.error(\"Chief complaints validation failed: empty string\");\n    }\n    // Additional validations\n    if (typeof age === \"number\" && (age <= 0 || age > 150)) {\n        errors.push(\"Age must be between 1 and 150\");\n    }\n    if (mobileNumber && !/^[0-9-+()\\\\s]+$/.test(mobileNumber)) {\n        errors.push(\"Mobile number contains invalid characters\");\n    }\n    if (errors.length > 0) {\n        console.log(\"Validation errors:\", errors);\n        return {\n            valid: false,\n            errors\n        };\n    }\n    // Create default values for optional JSON fields\n    const defaultMedicalHistory = {\n        pastHistory: {\n            allergy: false,\n            anemia: false,\n            arthritis: false,\n            asthma: false,\n            cancer: false,\n            diabetes: false,\n            heartDisease: false,\n            hypertension: false,\n            thyroid: false,\n            tuberculosis: false\n        },\n        familyHistory: {\n            diabetes: false,\n            hypertension: false,\n            thyroid: false,\n            tuberculosis: false,\n            cancer: false\n        }\n    };\n    const defaultPhysicalGenerals = {\n        appetite: \"\",\n        bowel: \"\",\n        urine: \"\",\n        sweating: \"\",\n        sleep: \"\",\n        thirst: \"\",\n        addictions: \"\"\n    };\n    const defaultFoodAndHabit = {\n        foodHabit: \"\",\n        addictions: \"\"\n    };\n    const defaultMenstrualHistory = sex === \"Female\" ? {\n        menses: \"\",\n        menopause: \"No\",\n        leucorrhoea: \"\",\n        gonorrhea: \"No\",\n        otherDischarges: \"\"\n    } : null;\n    // Safe parsing of JSON fields\n    let sanitizedMedicalHistory;\n    let sanitizedPhysicalGenerals;\n    let sanitizedMenstrualHistory;\n    let sanitizedFoodAndHabit;\n    try {\n        sanitizedMedicalHistory = medicalHistory ? typeof medicalHistory === \"string\" ? JSON.parse(medicalHistory) : medicalHistory : defaultMedicalHistory;\n    } catch (e) {\n        console.log(\"Error parsing medicalHistory:\", e);\n        sanitizedMedicalHistory = defaultMedicalHistory;\n    }\n    try {\n        sanitizedPhysicalGenerals = physicalGenerals ? typeof physicalGenerals === \"string\" ? JSON.parse(physicalGenerals) : physicalGenerals : defaultPhysicalGenerals;\n    } catch (e) {\n        console.log(\"Error parsing physicalGenerals:\", e);\n        sanitizedPhysicalGenerals = defaultPhysicalGenerals;\n    }\n    try {\n        sanitizedMenstrualHistory = sex === \"Female\" && menstrualHistory ? typeof menstrualHistory === \"string\" ? JSON.parse(menstrualHistory) : menstrualHistory : defaultMenstrualHistory;\n    } catch (e) {\n        console.log(\"Error parsing menstrualHistory:\", e);\n        sanitizedMenstrualHistory = defaultMenstrualHistory;\n    }\n    try {\n        sanitizedFoodAndHabit = foodAndHabit ? typeof foodAndHabit === \"string\" ? JSON.parse(foodAndHabit) : foodAndHabit : defaultFoodAndHabit;\n    } catch (e) {\n        console.log(\"Error parsing foodAndHabit:\", e);\n        sanitizedFoodAndHabit = defaultFoodAndHabit;\n    }\n    console.log(\"Data sanitization complete\");\n    // Prepare the sanitized data\n    const sanitizedData = {\n        name: name.trim(),\n        guardianName: guardianName ? guardianName.trim() : null,\n        address: address.trim(),\n        age: parseInt(age),\n        sex,\n        occupation: occupation ? occupation.trim() : null,\n        mobileNumber: mobileNumber.trim(),\n        chiefComplaints: chiefComplaints.trim(),\n        stringifiedMedicalHistory: JSON.stringify(sanitizedMedicalHistory),\n        stringifiedPhysicalGenerals: JSON.stringify(sanitizedPhysicalGenerals),\n        stringifiedMenstrualHistory: sex === \"Female\" ? JSON.stringify(sanitizedMenstrualHistory) : null,\n        stringifiedFoodAndHabit: JSON.stringify(sanitizedFoodAndHabit)\n    };\n    // If userId is provided, include it in the sanitized data\n    if (userId) {\n        console.log(\"User ID provided in data:\", userId);\n        sanitizedData.userId = userId;\n    }\n    return {\n        valid: true,\n        sanitizedData\n    };\n};\nasync function handler(req, res) {\n    console.log(`API Request: ${req.method} ${req.url}`);\n    console.log(\"Headers:\", JSON.stringify(req.headers));\n    // Log request body for POST and PUT requests\n    if ([\n        \"POST\",\n        \"PUT\"\n    ].includes(req.method)) {\n        console.log(\"Request body:\", JSON.stringify(req.body));\n    }\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(req, res, _auth_nextauth___WEBPACK_IMPORTED_MODULE_2__.authOptions);\n    console.log(\"Session from getServerSession:\", JSON.stringify(session));\n    if (!session) {\n        return res.status(401).json({\n            error: \"Unauthorized\"\n        });\n    }\n    try {\n        switch(req.method){\n            case \"GET\":\n                const patients = await prisma.patient.findMany({\n                    where: {\n                        userId: session.user.id\n                    },\n                    include: {\n                        investigations: true,\n                        user: {\n                            select: {\n                                id: true,\n                                email: true,\n                                fullName: true,\n                                role: true\n                            }\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    }\n                });\n                // Transform data to match frontend expectations\n                const transformedPatients = patients.map((patient)=>{\n                    // Parse JSON fields stored as strings\n                    const medicalHistory = patient.medicalHistory ? JSON.parse(patient.medicalHistory) : {\n                        pastHistory: {\n                            allergy: false,\n                            anemia: false,\n                            arthritis: false,\n                            asthma: false,\n                            cancer: false,\n                            diabetes: false,\n                            heartDisease: false,\n                            hypertension: false,\n                            thyroid: false,\n                            tuberculosis: false\n                        },\n                        familyHistory: {\n                            diabetes: false,\n                            hypertension: false,\n                            thyroid: false,\n                            tuberculosis: false,\n                            cancer: false\n                        }\n                    };\n                    const physicalGenerals = patient.physicalGenerals ? JSON.parse(patient.physicalGenerals) : {\n                        appetite: \"\",\n                        bowel: \"\",\n                        urine: \"\",\n                        sweating: \"\",\n                        sleep: \"\",\n                        thirst: \"\",\n                        addictions: \"\"\n                    };\n                    const menstrualHistory = patient.menstrualHistory ? JSON.parse(patient.menstrualHistory) : patient.sex === \"Female\" ? {\n                        menses: \"\",\n                        menopause: \"No\",\n                        leucorrhoea: \"\",\n                        gonorrhea: \"No\",\n                        otherDischarges: \"\"\n                    } : null;\n                    const foodAndHabit = patient.foodAndHabit ? JSON.parse(patient.foodAndHabit) : {\n                        foodHabit: \"\",\n                        addictions: \"\"\n                    };\n                    return {\n                        id: patient.id,\n                        name: patient.name,\n                        guardianName: patient.guardianName,\n                        address: patient.address,\n                        age: patient.age,\n                        sex: patient.sex,\n                        occupation: patient.occupation || \"\",\n                        mobileNumber: patient.mobileNumber,\n                        chiefComplaints: patient.chiefComplaints,\n                        createdAt: patient.createdAt,\n                        updatedAt: patient.updatedAt,\n                        userId: patient.userId,\n                        medicalHistory,\n                        physicalGenerals,\n                        menstrualHistory,\n                        foodAndHabit,\n                        investigations: patient.investigations || [],\n                        user: patient.user\n                    };\n                });\n                return res.status(200).json(transformedPatients);\n            case \"POST\":\n                console.log(\"POST /api/patients - Request received\");\n                console.log(\"Request body:\", req.body);\n                try {\n                    // Check for empty required fields before validation\n                    if (!req.body.mobileNumber) {\n                        console.log(\"Mobile number missing in request\");\n                        return res.status(400).json({\n                            error: \"Validation error\",\n                            message: \"Mobile number is required\",\n                            details: \"Mobile number field is missing or empty\"\n                        });\n                    }\n                    if (!req.body.chiefComplaints) {\n                        console.log(\"Chief complaints missing in request\");\n                        return res.status(400).json({\n                            error: \"Validation error\",\n                            message: \"Chief complaints are required\",\n                            details: \"Chief complaints field is missing or empty\"\n                        });\n                    }\n                    // Validate and sanitize patient data\n                    const validationResult = validateAndSanitizePatientData(req.body);\n                    // If validation fails, return error\n                    if (!validationResult.valid) {\n                        console.log(\"Patient data validation failed:\", validationResult.errors);\n                        return res.status(400).json({\n                            error: \"Validation error\",\n                            message: \"Please check the form for errors\",\n                            details: validationResult.errors.join(\", \")\n                        });\n                    }\n                    console.log(\"Patient data validated successfully\");\n                    const { name, guardianName, address, age, sex, occupation, mobileNumber, chiefComplaints, stringifiedMedicalHistory, stringifiedPhysicalGenerals, stringifiedMenstrualHistory, stringifiedFoodAndHabit } = validationResult.sanitizedData;\n                    // Create the patient record\n                    console.log(\"Creating patient record in database with data:\", {\n                        name,\n                        guardianName,\n                        address,\n                        age,\n                        sex,\n                        occupation,\n                        mobileNumber,\n                        chiefComplaints,\n                        hasMedicalHistory: !!stringifiedMedicalHistory,\n                        hasPhysicalGenerals: !!stringifiedPhysicalGenerals,\n                        hasMenstrualHistory: !!stringifiedMenstrualHistory,\n                        hasFoodAndHabit: !!stringifiedFoodAndHabit\n                    });\n                    // Debug session information\n                    console.log(\"Session object:\", JSON.stringify(session));\n                    console.log(\"User object:\", JSON.stringify(session.user));\n                    console.log(\"User ID:\", session.user?.id);\n                    // Check if userId is available\n                    if (!session.user || !session.user.id) {\n                        console.error(\"User session missing or invalid\", JSON.stringify(session));\n                        // If user ID is missing but we have a session, try to use it anyway\n                        if (session && session.user && session.user.email) {\n                            console.log(\"Attempting to find user by email:\", session.user.email);\n                            // Try to find the user by email\n                            const user = await prisma.user.findUnique({\n                                where: {\n                                    email: session.user.email\n                                }\n                            });\n                            if (user) {\n                                console.log(\"Found user by email:\", user.id);\n                                session.user.id = user.id; // Set the ID\n                            } else {\n                                console.error(\"Could not find user by email\");\n                                return res.status(400).json({\n                                    error: \"Authentication error\",\n                                    message: \"Unable to save patient\",\n                                    details: \"User ID is missing and could not be retrieved\"\n                                });\n                            }\n                        } else {\n                            return res.status(400).json({\n                                error: \"Authentication error\",\n                                message: \"Unable to save patient\",\n                                details: \"User ID is missing or invalid\"\n                            });\n                        }\n                    }\n                    // Prepare data for patient creation\n                    const patientData = {\n                        name,\n                        guardianName,\n                        address,\n                        age,\n                        sex,\n                        occupation,\n                        mobileNumber,\n                        chiefComplaints,\n                        medicalHistory: stringifiedMedicalHistory,\n                        physicalGenerals: stringifiedPhysicalGenerals,\n                        menstrualHistory: stringifiedMenstrualHistory,\n                        foodAndHabit: stringifiedFoodAndHabit,\n                        // Use the userId field directly\n                        userId: session.user.id\n                    };\n                    console.log(\"Final patient data for creation:\", JSON.stringify(patientData));\n                    const newPatient = await prisma.patient.create({\n                        data: patientData,\n                        include: {\n                            investigations: true\n                        }\n                    });\n                    console.log(\"Patient created successfully:\", newPatient.id);\n                    // Parse the JSON fields back for the response\n                    const transformedNewPatient = {\n                        ...newPatient,\n                        medicalHistory: stringifiedMedicalHistory ? JSON.parse(stringifiedMedicalHistory) : null,\n                        physicalGenerals: stringifiedPhysicalGenerals ? JSON.parse(stringifiedPhysicalGenerals) : null,\n                        menstrualHistory: stringifiedMenstrualHistory ? JSON.parse(stringifiedMenstrualHistory) : null,\n                        foodAndHabit: stringifiedFoodAndHabit ? JSON.parse(stringifiedFoodAndHabit) : null\n                    };\n                    return res.status(201).json(transformedNewPatient);\n                } catch (error) {\n                    console.error(\"Error creating patient:\", error);\n                    // Enhanced error response with more details\n                    return res.status(400).json({\n                        error: \"Failed to create patient\",\n                        message: \"Unable to save patient\",\n                        details: error.message || \"Database error occurred\",\n                        code: error.code\n                    });\n                }\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"POST\"\n                ]);\n                return res.status(405).json({\n                    error: `Method ${req.method} not allowed`\n                });\n        }\n    } catch (error) {\n        console.error(\"Database error:\", error);\n        // Enhanced error logging\n        const errorMessage = error.message || \"Unknown database error\";\n        const errorDetails = error.meta && error.meta.cause ? error.meta.cause : \"No additional details\";\n        const errorCode = error.code || \"UNKNOWN_ERROR\";\n        console.log(\"Request body:\", req.body);\n        console.log(\"Error details:\", {\n            message: errorMessage,\n            details: errorDetails,\n            code: errorCode,\n            stack: error.stack\n        });\n        return res.status(400).json({\n            error: \"Invalid request data\",\n            message: errorMessage,\n            details: errorDetails,\n            code: errorCode\n        });\n    } finally{\n        await prisma.$disconnect();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUM7WUFDMUJ4RCxPQUFPO1lBQ1AwRSxTQUFTZTtZQUNUZCxTQUFTZTtZQUNUSCxNQUFNTTtRQUNSO0lBQ0YsU0FBVTtRQUNSLE1BQU1ySCxPQUFPdUgsV0FBVztJQUMxQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2FyZS1jZW50ZXItbmV4dGpzLy4vcGFnZXMvYXBpL3BhdGllbnRzL2luZGV4LmpzPzA5YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9uZXh0JztcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnLi4vYXV0aC9bLi4ubmV4dGF1dGhdJztcblxuY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdmFsaWRhdGUgYW5kIHNhbml0aXplIHBhdGllbnQgZGF0YVxuY29uc3QgdmFsaWRhdGVBbmRTYW5pdGl6ZVBhdGllbnREYXRhID0gKGRhdGEpID0+IHtcbiAgY29uc29sZS5sb2coJ1ZhbGlkYXRpbmcgcGF0aWVudCBkYXRhOicsIGRhdGEpO1xuICBcbiAgY29uc3Qge1xuICAgIG5hbWUsXG4gICAgZ3VhcmRpYW5OYW1lLFxuICAgIGFkZHJlc3MsXG4gICAgYWdlLFxuICAgIHNleCxcbiAgICBvY2N1cGF0aW9uLFxuICAgIG1vYmlsZU51bWJlcixcbiAgICBjaGllZkNvbXBsYWludHMsXG4gICAgbWVkaWNhbEhpc3RvcnksXG4gICAgcGh5c2ljYWxHZW5lcmFscyxcbiAgICBtZW5zdHJ1YWxIaXN0b3J5LFxuICAgIGZvb2RBbmRIYWJpdCxcbiAgICB1c2VySWQgLy8gRXh0cmFjdCB1c2VySWQgaWYgcHJlc2VudFxuICB9ID0gZGF0YTtcblxuICAvLyBSZXF1aXJlZCBmaWVsZHMgdmFsaWRhdGlvbiB3aXRoIGRldGFpbGVkIGVycm9yIG1lc3NhZ2VzXG4gIGNvbnN0IGVycm9ycyA9IFtdO1xuICBpZiAoIW5hbWUgfHwgdHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICFuYW1lLnRyaW0oKSkgXG4gICAgZXJyb3JzLnB1c2goJ05hbWUgaXMgcmVxdWlyZWQnKTtcbiAgaWYgKCFhZGRyZXNzIHx8IHR5cGVvZiBhZGRyZXNzICE9PSAnc3RyaW5nJyB8fCAhYWRkcmVzcy50cmltKCkpIFxuICAgIGVycm9ycy5wdXNoKCdBZGRyZXNzIGlzIHJlcXVpcmVkJyk7XG4gIGlmIChhZ2UgPT09IHVuZGVmaW5lZCB8fCBhZ2UgPT09IG51bGwgfHwgYWdlID09PSAnJyB8fCBpc05hTihwYXJzZUludChhZ2UpKSkgXG4gICAgZXJyb3JzLnB1c2goJ0FnZSBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhIG51bWJlcicpO1xuICBpZiAoIXNleCB8fCAoc2V4ICE9PSAnTWFsZScgJiYgc2V4ICE9PSAnRmVtYWxlJyAmJiBzZXggIT09ICdPdGhlcicpKSBcbiAgICBlcnJvcnMucHVzaCgnU2V4IGlzIHJlcXVpcmVkIChNYWxlLCBGZW1hbGUsIG9yIE90aGVyKScpO1xuICBcbiAgLy8gQWRkaXRpb25hbCB2YWxpZGF0aW9uIGZvciB0aGUgY29tbW9ubHkgZmFpbGluZyBmaWVsZHNcbiAgaWYgKCFtb2JpbGVOdW1iZXIpIHtcbiAgICBlcnJvcnMucHVzaCgnTW9iaWxlIG51bWJlciBpcyByZXF1aXJlZCcpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ01vYmlsZSBudW1iZXIgdmFsaWRhdGlvbiBmYWlsZWQ6IGVtcHR5IHZhbHVlJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vYmlsZU51bWJlciAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcnMucHVzaCgnTW9iaWxlIG51bWJlciBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgY29uc29sZS5lcnJvcignTW9iaWxlIG51bWJlciB2YWxpZGF0aW9uIGZhaWxlZDogbm90IGEgc3RyaW5nJywgdHlwZW9mIG1vYmlsZU51bWJlcik7XG4gIH0gZWxzZSBpZiAoIW1vYmlsZU51bWJlci50cmltKCkpIHtcbiAgICBlcnJvcnMucHVzaCgnTW9iaWxlIG51bWJlciBjYW5ub3QgYmUgZW1wdHknKTtcbiAgICBjb25zb2xlLmVycm9yKCdNb2JpbGUgbnVtYmVyIHZhbGlkYXRpb24gZmFpbGVkOiBlbXB0eSBzdHJpbmcnKTtcbiAgfVxuICBcbiAgaWYgKCFjaGllZkNvbXBsYWludHMpIHtcbiAgICBlcnJvcnMucHVzaCgnQ2hpZWYgY29tcGxhaW50cyBhcmUgcmVxdWlyZWQnKTtcbiAgICBjb25zb2xlLmVycm9yKCdDaGllZiBjb21wbGFpbnRzIHZhbGlkYXRpb24gZmFpbGVkOiBlbXB0eSB2YWx1ZScpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaGllZkNvbXBsYWludHMgIT09ICdzdHJpbmcnKSB7XG4gICAgZXJyb3JzLnB1c2goJ0NoaWVmIGNvbXBsYWludHMgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NoaWVmIGNvbXBsYWludHMgdmFsaWRhdGlvbiBmYWlsZWQ6IG5vdCBhIHN0cmluZycsIHR5cGVvZiBjaGllZkNvbXBsYWludHMpO1xuICB9IGVsc2UgaWYgKCFjaGllZkNvbXBsYWludHMudHJpbSgpKSB7XG4gICAgZXJyb3JzLnB1c2goJ0NoaWVmIGNvbXBsYWludHMgY2Fubm90IGJlIGVtcHR5Jyk7XG4gICAgY29uc29sZS5lcnJvcignQ2hpZWYgY29tcGxhaW50cyB2YWxpZGF0aW9uIGZhaWxlZDogZW1wdHkgc3RyaW5nJyk7XG4gIH1cblxuICAvLyBBZGRpdGlvbmFsIHZhbGlkYXRpb25zXG4gIGlmICh0eXBlb2YgYWdlID09PSAnbnVtYmVyJyAmJiAoYWdlIDw9IDAgfHwgYWdlID4gMTUwKSkge1xuICAgIGVycm9ycy5wdXNoKCdBZ2UgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDE1MCcpO1xuICB9XG4gIFxuICBpZiAobW9iaWxlTnVtYmVyICYmICEvXlswLTktKygpXFxcXHNdKyQvLnRlc3QobW9iaWxlTnVtYmVyKSkge1xuICAgIGVycm9ycy5wdXNoKCdNb2JpbGUgbnVtYmVyIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycycpO1xuICB9XG5cbiAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc29sZS5sb2coJ1ZhbGlkYXRpb24gZXJyb3JzOicsIGVycm9ycyk7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcnMgfTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBkZWZhdWx0IHZhbHVlcyBmb3Igb3B0aW9uYWwgSlNPTiBmaWVsZHNcbiAgY29uc3QgZGVmYXVsdE1lZGljYWxIaXN0b3J5ID0ge1xuICAgIHBhc3RIaXN0b3J5OiB7XG4gICAgICBhbGxlcmd5OiBmYWxzZSwgYW5lbWlhOiBmYWxzZSwgYXJ0aHJpdGlzOiBmYWxzZSwgYXN0aG1hOiBmYWxzZSxcbiAgICAgIGNhbmNlcjogZmFsc2UsIGRpYWJldGVzOiBmYWxzZSwgaGVhcnREaXNlYXNlOiBmYWxzZSwgaHlwZXJ0ZW5zaW9uOiBmYWxzZSxcbiAgICAgIHRoeXJvaWQ6IGZhbHNlLCB0dWJlcmN1bG9zaXM6IGZhbHNlXG4gICAgfSxcbiAgICBmYW1pbHlIaXN0b3J5OiB7XG4gICAgICBkaWFiZXRlczogZmFsc2UsIGh5cGVydGVuc2lvbjogZmFsc2UsIHRoeXJvaWQ6IGZhbHNlLFxuICAgICAgdHViZXJjdWxvc2lzOiBmYWxzZSwgY2FuY2VyOiBmYWxzZVxuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IGRlZmF1bHRQaHlzaWNhbEdlbmVyYWxzID0ge1xuICAgIGFwcGV0aXRlOiAnJywgYm93ZWw6ICcnLCB1cmluZTogJycsIHN3ZWF0aW5nOiAnJywgXG4gICAgc2xlZXA6ICcnLCB0aGlyc3Q6ICcnLCBhZGRpY3Rpb25zOiAnJ1xuICB9O1xuICBcbiAgY29uc3QgZGVmYXVsdEZvb2RBbmRIYWJpdCA9IHtcbiAgICBmb29kSGFiaXQ6ICcnLFxuICAgIGFkZGljdGlvbnM6ICcnXG4gIH07XG4gIFxuICBjb25zdCBkZWZhdWx0TWVuc3RydWFsSGlzdG9yeSA9IHNleCA9PT0gJ0ZlbWFsZScgPyB7XG4gICAgbWVuc2VzOiAnJywgbWVub3BhdXNlOiAnTm8nLCBsZXVjb3JyaG9lYTogJycsXG4gICAgZ29ub3JyaGVhOiAnTm8nLCBvdGhlckRpc2NoYXJnZXM6ICcnXG4gIH0gOiBudWxsO1xuXG4gIC8vIFNhZmUgcGFyc2luZyBvZiBKU09OIGZpZWxkc1xuICBsZXQgc2FuaXRpemVkTWVkaWNhbEhpc3Rvcnk7XG4gIGxldCBzYW5pdGl6ZWRQaHlzaWNhbEdlbmVyYWxzO1xuICBsZXQgc2FuaXRpemVkTWVuc3RydWFsSGlzdG9yeTtcbiAgbGV0IHNhbml0aXplZEZvb2RBbmRIYWJpdDtcblxuICB0cnkge1xuICAgIHNhbml0aXplZE1lZGljYWxIaXN0b3J5ID0gbWVkaWNhbEhpc3RvcnkgXG4gICAgICA/ICh0eXBlb2YgbWVkaWNhbEhpc3RvcnkgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShtZWRpY2FsSGlzdG9yeSkgOiBtZWRpY2FsSGlzdG9yeSkgXG4gICAgICA6IGRlZmF1bHRNZWRpY2FsSGlzdG9yeTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdFcnJvciBwYXJzaW5nIG1lZGljYWxIaXN0b3J5OicsIGUpO1xuICAgIHNhbml0aXplZE1lZGljYWxIaXN0b3J5ID0gZGVmYXVsdE1lZGljYWxIaXN0b3J5O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBzYW5pdGl6ZWRQaHlzaWNhbEdlbmVyYWxzID0gcGh5c2ljYWxHZW5lcmFscyBcbiAgICAgID8gKHR5cGVvZiBwaHlzaWNhbEdlbmVyYWxzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocGh5c2ljYWxHZW5lcmFscykgOiBwaHlzaWNhbEdlbmVyYWxzKSBcbiAgICAgIDogZGVmYXVsdFBoeXNpY2FsR2VuZXJhbHM7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygnRXJyb3IgcGFyc2luZyBwaHlzaWNhbEdlbmVyYWxzOicsIGUpO1xuICAgIHNhbml0aXplZFBoeXNpY2FsR2VuZXJhbHMgPSBkZWZhdWx0UGh5c2ljYWxHZW5lcmFscztcbiAgfVxuXG4gIHRyeSB7XG4gICAgc2FuaXRpemVkTWVuc3RydWFsSGlzdG9yeSA9IHNleCA9PT0gJ0ZlbWFsZScgJiYgbWVuc3RydWFsSGlzdG9yeSBcbiAgICAgID8gKHR5cGVvZiBtZW5zdHJ1YWxIaXN0b3J5ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UobWVuc3RydWFsSGlzdG9yeSkgOiBtZW5zdHJ1YWxIaXN0b3J5KSBcbiAgICAgIDogZGVmYXVsdE1lbnN0cnVhbEhpc3Rvcnk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygnRXJyb3IgcGFyc2luZyBtZW5zdHJ1YWxIaXN0b3J5OicsIGUpO1xuICAgIHNhbml0aXplZE1lbnN0cnVhbEhpc3RvcnkgPSBkZWZhdWx0TWVuc3RydWFsSGlzdG9yeTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgc2FuaXRpemVkRm9vZEFuZEhhYml0ID0gZm9vZEFuZEhhYml0IFxuICAgICAgPyAodHlwZW9mIGZvb2RBbmRIYWJpdCA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGZvb2RBbmRIYWJpdCkgOiBmb29kQW5kSGFiaXQpIFxuICAgICAgOiBkZWZhdWx0Rm9vZEFuZEhhYml0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coJ0Vycm9yIHBhcnNpbmcgZm9vZEFuZEhhYml0OicsIGUpO1xuICAgIHNhbml0aXplZEZvb2RBbmRIYWJpdCA9IGRlZmF1bHRGb29kQW5kSGFiaXQ7XG4gIH1cblxuICBjb25zb2xlLmxvZygnRGF0YSBzYW5pdGl6YXRpb24gY29tcGxldGUnKTtcblxuICAvLyBQcmVwYXJlIHRoZSBzYW5pdGl6ZWQgZGF0YVxuICBjb25zdCBzYW5pdGl6ZWREYXRhID0ge1xuICAgIG5hbWU6IG5hbWUudHJpbSgpLFxuICAgIGd1YXJkaWFuTmFtZTogZ3VhcmRpYW5OYW1lID8gZ3VhcmRpYW5OYW1lLnRyaW0oKSA6IG51bGwsXG4gICAgYWRkcmVzczogYWRkcmVzcy50cmltKCksXG4gICAgYWdlOiBwYXJzZUludChhZ2UpLFxuICAgIHNleCxcbiAgICBvY2N1cGF0aW9uOiBvY2N1cGF0aW9uID8gb2NjdXBhdGlvbi50cmltKCkgOiBudWxsLFxuICAgIG1vYmlsZU51bWJlcjogbW9iaWxlTnVtYmVyLnRyaW0oKSxcbiAgICBjaGllZkNvbXBsYWludHM6IGNoaWVmQ29tcGxhaW50cy50cmltKCksXG4gICAgc3RyaW5naWZpZWRNZWRpY2FsSGlzdG9yeTogSlNPTi5zdHJpbmdpZnkoc2FuaXRpemVkTWVkaWNhbEhpc3RvcnkpLFxuICAgIHN0cmluZ2lmaWVkUGh5c2ljYWxHZW5lcmFsczogSlNPTi5zdHJpbmdpZnkoc2FuaXRpemVkUGh5c2ljYWxHZW5lcmFscyksXG4gICAgc3RyaW5naWZpZWRNZW5zdHJ1YWxIaXN0b3J5OiBzZXggPT09ICdGZW1hbGUnID8gSlNPTi5zdHJpbmdpZnkoc2FuaXRpemVkTWVuc3RydWFsSGlzdG9yeSkgOiBudWxsLFxuICAgIHN0cmluZ2lmaWVkRm9vZEFuZEhhYml0OiBKU09OLnN0cmluZ2lmeShzYW5pdGl6ZWRGb29kQW5kSGFiaXQpXG4gIH07XG4gIFxuICAvLyBJZiB1c2VySWQgaXMgcHJvdmlkZWQsIGluY2x1ZGUgaXQgaW4gdGhlIHNhbml0aXplZCBkYXRhXG4gIGlmICh1c2VySWQpIHtcbiAgICBjb25zb2xlLmxvZygnVXNlciBJRCBwcm92aWRlZCBpbiBkYXRhOicsIHVzZXJJZCk7XG4gICAgc2FuaXRpemVkRGF0YS51c2VySWQgPSB1c2VySWQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHZhbGlkOiB0cnVlLFxuICAgIHNhbml0aXplZERhdGFcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgY29uc29sZS5sb2coYEFQSSBSZXF1ZXN0OiAke3JlcS5tZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgY29uc29sZS5sb2coJ0hlYWRlcnM6JywgSlNPTi5zdHJpbmdpZnkocmVxLmhlYWRlcnMpKTtcbiAgXG4gIC8vIExvZyByZXF1ZXN0IGJvZHkgZm9yIFBPU1QgYW5kIFBVVCByZXF1ZXN0c1xuICBpZiAoWydQT1NUJywgJ1BVVCddLmluY2x1ZGVzKHJlcS5tZXRob2QpKSB7XG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3QgYm9keTonLCBKU09OLnN0cmluZ2lmeShyZXEuYm9keSkpO1xuICB9XG4gIFxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihyZXEsIHJlcywgYXV0aE9wdGlvbnMpO1xuICBjb25zb2xlLmxvZygnU2Vzc2lvbiBmcm9tIGdldFNlcnZlclNlc3Npb246JywgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbikpO1xuXG4gIGlmICghc2Vzc2lvbikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XG4gICAgICBjYXNlICdHRVQnOlxuICAgICAgICBjb25zdCBwYXRpZW50cyA9IGF3YWl0IHByaXNtYS5wYXRpZW50LmZpbmRNYW55KHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIGludmVzdGlnYXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmdWxsTmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlOiB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogJ2Rlc2MnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUcmFuc2Zvcm0gZGF0YSB0byBtYXRjaCBmcm9udGVuZCBleHBlY3RhdGlvbnNcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRQYXRpZW50cyA9IHBhdGllbnRzLm1hcChwYXRpZW50ID0+IHtcbiAgICAgICAgICAvLyBQYXJzZSBKU09OIGZpZWxkcyBzdG9yZWQgYXMgc3RyaW5nc1xuICAgICAgICAgIGNvbnN0IG1lZGljYWxIaXN0b3J5ID0gcGF0aWVudC5tZWRpY2FsSGlzdG9yeSA/IEpTT04ucGFyc2UocGF0aWVudC5tZWRpY2FsSGlzdG9yeSkgOiB7XG4gICAgICAgICAgICBwYXN0SGlzdG9yeToge1xuICAgICAgICAgICAgICBhbGxlcmd5OiBmYWxzZSxcbiAgICAgICAgICAgICAgYW5lbWlhOiBmYWxzZSxcbiAgICAgICAgICAgICAgYXJ0aHJpdGlzOiBmYWxzZSxcbiAgICAgICAgICAgICAgYXN0aG1hOiBmYWxzZSxcbiAgICAgICAgICAgICAgY2FuY2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgZGlhYmV0ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICBoZWFydERpc2Vhc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBoeXBlcnRlbnNpb246IGZhbHNlLFxuICAgICAgICAgICAgICB0aHlyb2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgdHViZXJjdWxvc2lzOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYW1pbHlIaXN0b3J5OiB7XG4gICAgICAgICAgICAgIGRpYWJldGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgaHlwZXJ0ZW5zaW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgdGh5cm9pZDogZmFsc2UsXG4gICAgICAgICAgICAgIHR1YmVyY3Vsb3NpczogZmFsc2UsXG4gICAgICAgICAgICAgIGNhbmNlcjogZmFsc2UsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBwaHlzaWNhbEdlbmVyYWxzID0gcGF0aWVudC5waHlzaWNhbEdlbmVyYWxzID8gSlNPTi5wYXJzZShwYXRpZW50LnBoeXNpY2FsR2VuZXJhbHMpIDoge1xuICAgICAgICAgICAgYXBwZXRpdGU6ICcnLFxuICAgICAgICAgICAgYm93ZWw6ICcnLFxuICAgICAgICAgICAgdXJpbmU6ICcnLFxuICAgICAgICAgICAgc3dlYXRpbmc6ICcnLFxuICAgICAgICAgICAgc2xlZXA6ICcnLFxuICAgICAgICAgICAgdGhpcnN0OiAnJyxcbiAgICAgICAgICAgIGFkZGljdGlvbnM6ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbWVuc3RydWFsSGlzdG9yeSA9IHBhdGllbnQubWVuc3RydWFsSGlzdG9yeSA/IEpTT04ucGFyc2UocGF0aWVudC5tZW5zdHJ1YWxIaXN0b3J5KSA6IFxuICAgICAgICAgICAgKHBhdGllbnQuc2V4ID09PSAnRmVtYWxlJyA/IHtcbiAgICAgICAgICAgICAgbWVuc2VzOiAnJyxcbiAgICAgICAgICAgICAgbWVub3BhdXNlOiAnTm8nLFxuICAgICAgICAgICAgICBsZXVjb3JyaG9lYTogJycsXG4gICAgICAgICAgICAgIGdvbm9ycmhlYTogJ05vJyxcbiAgICAgICAgICAgICAgb3RoZXJEaXNjaGFyZ2VzOiAnJyxcbiAgICAgICAgICAgIH0gOiBudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGZvb2RBbmRIYWJpdCA9IHBhdGllbnQuZm9vZEFuZEhhYml0ID8gSlNPTi5wYXJzZShwYXRpZW50LmZvb2RBbmRIYWJpdCkgOiB7XG4gICAgICAgICAgICBmb29kSGFiaXQ6ICcnLFxuICAgICAgICAgICAgYWRkaWN0aW9uczogJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHBhdGllbnQuaWQsXG4gICAgICAgICAgICBuYW1lOiBwYXRpZW50Lm5hbWUsXG4gICAgICAgICAgICBndWFyZGlhbk5hbWU6IHBhdGllbnQuZ3VhcmRpYW5OYW1lLFxuICAgICAgICAgICAgYWRkcmVzczogcGF0aWVudC5hZGRyZXNzLFxuICAgICAgICAgICAgYWdlOiBwYXRpZW50LmFnZSxcbiAgICAgICAgICAgIHNleDogcGF0aWVudC5zZXgsXG4gICAgICAgICAgICBvY2N1cGF0aW9uOiBwYXRpZW50Lm9jY3VwYXRpb24gfHwgJycsXG4gICAgICAgICAgICBtb2JpbGVOdW1iZXI6IHBhdGllbnQubW9iaWxlTnVtYmVyLFxuICAgICAgICAgICAgY2hpZWZDb21wbGFpbnRzOiBwYXRpZW50LmNoaWVmQ29tcGxhaW50cyxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogcGF0aWVudC5jcmVhdGVkQXQsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IHBhdGllbnQudXBkYXRlZEF0LFxuICAgICAgICAgICAgdXNlcklkOiBwYXRpZW50LnVzZXJJZCxcbiAgICAgICAgICAgIG1lZGljYWxIaXN0b3J5LFxuICAgICAgICAgICAgcGh5c2ljYWxHZW5lcmFscyxcbiAgICAgICAgICAgIG1lbnN0cnVhbEhpc3RvcnksXG4gICAgICAgICAgICBmb29kQW5kSGFiaXQsXG4gICAgICAgICAgICBpbnZlc3RpZ2F0aW9uczogcGF0aWVudC5pbnZlc3RpZ2F0aW9ucyB8fCBbXSxcbiAgICAgICAgICAgIHVzZXI6IHBhdGllbnQudXNlclxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih0cmFuc2Zvcm1lZFBhdGllbnRzKTtcblxuICAgICAgY2FzZSAnUE9TVCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdQT1NUIC9hcGkvcGF0aWVudHMgLSBSZXF1ZXN0IHJlY2VpdmVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0IGJvZHk6JywgcmVxLmJvZHkpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBDaGVjayBmb3IgZW1wdHkgcmVxdWlyZWQgZmllbGRzIGJlZm9yZSB2YWxpZGF0aW9uXG4gICAgICAgICAgaWYgKCFyZXEuYm9keS5tb2JpbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNb2JpbGUgbnVtYmVyIG1pc3NpbmcgaW4gcmVxdWVzdCcpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgICAgICAgZXJyb3I6ICdWYWxpZGF0aW9uIGVycm9yJyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ01vYmlsZSBudW1iZXIgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgICBkZXRhaWxzOiAnTW9iaWxlIG51bWJlciBmaWVsZCBpcyBtaXNzaW5nIG9yIGVtcHR5J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghcmVxLmJvZHkuY2hpZWZDb21wbGFpbnRzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2hpZWYgY29tcGxhaW50cyBtaXNzaW5nIGluIHJlcXVlc3QnKTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgICAgICAgIGVycm9yOiAnVmFsaWRhdGlvbiBlcnJvcicsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdDaGllZiBjb21wbGFpbnRzIGFyZSByZXF1aXJlZCcsXG4gICAgICAgICAgICAgIGRldGFpbHM6ICdDaGllZiBjb21wbGFpbnRzIGZpZWxkIGlzIG1pc3Npbmcgb3IgZW1wdHknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVmFsaWRhdGUgYW5kIHNhbml0aXplIHBhdGllbnQgZGF0YVxuICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0ZUFuZFNhbml0aXplUGF0aWVudERhdGEocmVxLmJvZHkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHZhbGlkYXRpb24gZmFpbHMsIHJldHVybiBlcnJvclxuICAgICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC52YWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1BhdGllbnQgZGF0YSB2YWxpZGF0aW9uIGZhaWxlZDonLCB2YWxpZGF0aW9uUmVzdWx0LmVycm9ycyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICAgICAgICBlcnJvcjogJ1ZhbGlkYXRpb24gZXJyb3InLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGNoZWNrIHRoZSBmb3JtIGZvciBlcnJvcnMnLFxuICAgICAgICAgICAgICBkZXRhaWxzOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9ycy5qb2luKCcsICcpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1BhdGllbnQgZGF0YSB2YWxpZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGd1YXJkaWFuTmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBhZ2UsXG4gICAgICAgICAgICBzZXgsXG4gICAgICAgICAgICBvY2N1cGF0aW9uLFxuICAgICAgICAgICAgbW9iaWxlTnVtYmVyLFxuICAgICAgICAgICAgY2hpZWZDb21wbGFpbnRzLFxuICAgICAgICAgICAgc3RyaW5naWZpZWRNZWRpY2FsSGlzdG9yeSxcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkUGh5c2ljYWxHZW5lcmFscyxcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkTWVuc3RydWFsSGlzdG9yeSxcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkRm9vZEFuZEhhYml0XG4gICAgICAgICAgfSA9IHZhbGlkYXRpb25SZXN1bHQuc2FuaXRpemVkRGF0YTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIHBhdGllbnQgcmVjb3JkXG4gICAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHBhdGllbnQgcmVjb3JkIGluIGRhdGFiYXNlIHdpdGggZGF0YTonLCB7XG4gICAgICAgICAgICBuYW1lLCBndWFyZGlhbk5hbWUsIGFkZHJlc3MsIGFnZSwgc2V4LCBvY2N1cGF0aW9uLCBcbiAgICAgICAgICAgIG1vYmlsZU51bWJlciwgY2hpZWZDb21wbGFpbnRzLFxuICAgICAgICAgICAgaGFzTWVkaWNhbEhpc3Rvcnk6ICEhc3RyaW5naWZpZWRNZWRpY2FsSGlzdG9yeSxcbiAgICAgICAgICAgIGhhc1BoeXNpY2FsR2VuZXJhbHM6ICEhc3RyaW5naWZpZWRQaHlzaWNhbEdlbmVyYWxzLFxuICAgICAgICAgICAgaGFzTWVuc3RydWFsSGlzdG9yeTogISFzdHJpbmdpZmllZE1lbnN0cnVhbEhpc3RvcnksXG4gICAgICAgICAgICBoYXNGb29kQW5kSGFiaXQ6ICEhc3RyaW5naWZpZWRGb29kQW5kSGFiaXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEZWJ1ZyBzZXNzaW9uIGluZm9ybWF0aW9uXG4gICAgICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb24gb2JqZWN0OicsIEpTT04uc3RyaW5naWZ5KHNlc3Npb24pKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciBvYmplY3Q6JywgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbi51c2VyKSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgSUQ6Jywgc2Vzc2lvbi51c2VyPy5pZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlcklkIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIGlmICghc2Vzc2lvbi51c2VyIHx8ICFzZXNzaW9uLnVzZXIuaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgc2Vzc2lvbiBtaXNzaW5nIG9yIGludmFsaWQnLCBKU09OLnN0cmluZ2lmeShzZXNzaW9uKSk7XG4gICAgICAgICAgICAvLyBJZiB1c2VyIElEIGlzIG1pc3NpbmcgYnV0IHdlIGhhdmUgYSBzZXNzaW9uLCB0cnkgdG8gdXNlIGl0IGFueXdheVxuICAgICAgICAgICAgaWYgKHNlc3Npb24gJiYgc2Vzc2lvbi51c2VyICYmIHNlc3Npb24udXNlci5lbWFpbCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBmaW5kIHVzZXIgYnkgZW1haWw6Jywgc2Vzc2lvbi51c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIHVzZXIgYnkgZW1haWxcbiAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICBlbWFpbDogc2Vzc2lvbi51c2VyLmVtYWlsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIHVzZXIgYnkgZW1haWw6JywgdXNlci5pZCk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdXNlci5pZDsgLy8gU2V0IHRoZSBJRFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHVzZXIgYnkgZW1haWwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiBlcnJvcicsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVW5hYmxlIHRvIHNhdmUgcGF0aWVudCcsXG4gICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnVXNlciBJRCBpcyBtaXNzaW5nIGFuZCBjb3VsZCBub3QgYmUgcmV0cmlldmVkJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICAgICAgICAgIGVycm9yOiAnQXV0aGVudGljYXRpb24gZXJyb3InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdVbmFibGUgdG8gc2F2ZSBwYXRpZW50JyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnVXNlciBJRCBpcyBtaXNzaW5nIG9yIGludmFsaWQnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQcmVwYXJlIGRhdGEgZm9yIHBhdGllbnQgY3JlYXRpb25cbiAgICAgICAgICBjb25zdCBwYXRpZW50RGF0YSA9IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBndWFyZGlhbk5hbWUsXG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgYWdlLFxuICAgICAgICAgICAgc2V4LFxuICAgICAgICAgICAgb2NjdXBhdGlvbixcbiAgICAgICAgICAgIG1vYmlsZU51bWJlcixcbiAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50cyxcbiAgICAgICAgICAgIG1lZGljYWxIaXN0b3J5OiBzdHJpbmdpZmllZE1lZGljYWxIaXN0b3J5LFxuICAgICAgICAgICAgcGh5c2ljYWxHZW5lcmFsczogc3RyaW5naWZpZWRQaHlzaWNhbEdlbmVyYWxzLFxuICAgICAgICAgICAgbWVuc3RydWFsSGlzdG9yeTogc3RyaW5naWZpZWRNZW5zdHJ1YWxIaXN0b3J5LFxuICAgICAgICAgICAgZm9vZEFuZEhhYml0OiBzdHJpbmdpZmllZEZvb2RBbmRIYWJpdCxcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgdXNlcklkIGZpZWxkIGRpcmVjdGx5XG4gICAgICAgICAgICB1c2VySWQ6IHNlc3Npb24udXNlci5pZFxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZpbmFsIHBhdGllbnQgZGF0YSBmb3IgY3JlYXRpb246JywgSlNPTi5zdHJpbmdpZnkocGF0aWVudERhdGEpKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBuZXdQYXRpZW50ID0gYXdhaXQgcHJpc21hLnBhdGllbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHBhdGllbnREYXRhLFxuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBpbnZlc3RpZ2F0aW9uczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXRpZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5OicsIG5ld1BhdGllbnQuaWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBhcnNlIHRoZSBKU09OIGZpZWxkcyBiYWNrIGZvciB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZE5ld1BhdGllbnQgPSB7XG4gICAgICAgICAgICAuLi5uZXdQYXRpZW50LFxuICAgICAgICAgICAgbWVkaWNhbEhpc3Rvcnk6IHN0cmluZ2lmaWVkTWVkaWNhbEhpc3RvcnkgPyBKU09OLnBhcnNlKHN0cmluZ2lmaWVkTWVkaWNhbEhpc3RvcnkpIDogbnVsbCxcbiAgICAgICAgICAgIHBoeXNpY2FsR2VuZXJhbHM6IHN0cmluZ2lmaWVkUGh5c2ljYWxHZW5lcmFscyA/IEpTT04ucGFyc2Uoc3RyaW5naWZpZWRQaHlzaWNhbEdlbmVyYWxzKSA6IG51bGwsXG4gICAgICAgICAgICBtZW5zdHJ1YWxIaXN0b3J5OiBzdHJpbmdpZmllZE1lbnN0cnVhbEhpc3RvcnkgPyBKU09OLnBhcnNlKHN0cmluZ2lmaWVkTWVuc3RydWFsSGlzdG9yeSkgOiBudWxsLFxuICAgICAgICAgICAgZm9vZEFuZEhhYml0OiBzdHJpbmdpZmllZEZvb2RBbmRIYWJpdCA/IEpTT04ucGFyc2Uoc3RyaW5naWZpZWRGb29kQW5kSGFiaXQpIDogbnVsbFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24odHJhbnNmb3JtZWROZXdQYXRpZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwYXRpZW50OicsIGVycm9yKTtcbiAgICAgICAgICAvLyBFbmhhbmNlZCBlcnJvciByZXNwb25zZSB3aXRoIG1vcmUgZGV0YWlsc1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgcGF0aWVudCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnVW5hYmxlIHRvIHNhdmUgcGF0aWVudCcsXG4gICAgICAgICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIHx8ICdEYXRhYmFzZSBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgICAgICBjb2RlOiBlcnJvci5jb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJ10pO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogYE1ldGhvZCAke3JlcS5tZXRob2R9IG5vdCBhbGxvd2VkYCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgZXJyb3I6JywgZXJyb3IpO1xuICAgIC8vIEVuaGFuY2VkIGVycm9yIGxvZ2dpbmdcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGRhdGFiYXNlIGVycm9yJztcbiAgICBjb25zdCBlcnJvckRldGFpbHMgPSBlcnJvci5tZXRhICYmIGVycm9yLm1ldGEuY2F1c2UgPyBlcnJvci5tZXRhLmNhdXNlIDogJ05vIGFkZGl0aW9uYWwgZGV0YWlscyc7XG4gICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IuY29kZSB8fCAnVU5LTk9XTl9FUlJPUic7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3QgYm9keTonLCByZXEuYm9keSk7XG4gICAgY29uc29sZS5sb2coJ0Vycm9yIGRldGFpbHM6Jywge1xuICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgZGV0YWlsczogZXJyb3JEZXRhaWxzLFxuICAgICAgY29kZTogZXJyb3JDb2RlLFxuICAgICAgc3RhY2s6IGVycm9yLnN0YWNrXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXG4gICAgICBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCBkYXRhJyxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgIGRldGFpbHM6IGVycm9yRGV0YWlscyxcbiAgICAgIGNvZGU6IGVycm9yQ29kZVxuICAgIH0pO1xuICB9IGZpbmFsbHkge1xuICAgIGF3YWl0IHByaXNtYS4kZGlzY29ubmVjdCgpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwicHJpc21hIiwidmFsaWRhdGVBbmRTYW5pdGl6ZVBhdGllbnREYXRhIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwiZ3VhcmRpYW5OYW1lIiwiYWRkcmVzcyIsImFnZSIsInNleCIsIm9jY3VwYXRpb24iLCJtb2JpbGVOdW1iZXIiLCJjaGllZkNvbXBsYWludHMiLCJtZWRpY2FsSGlzdG9yeSIsInBoeXNpY2FsR2VuZXJhbHMiLCJtZW5zdHJ1YWxIaXN0b3J5IiwiZm9vZEFuZEhhYml0IiwidXNlcklkIiwiZXJyb3JzIiwidHJpbSIsInB1c2giLCJ1bmRlZmluZWQiLCJpc05hTiIsInBhcnNlSW50IiwiZXJyb3IiLCJ0ZXN0IiwibGVuZ3RoIiwidmFsaWQiLCJkZWZhdWx0TWVkaWNhbEhpc3RvcnkiLCJwYXN0SGlzdG9yeSIsImFsbGVyZ3kiLCJhbmVtaWEiLCJhcnRocml0aXMiLCJhc3RobWEiLCJjYW5jZXIiLCJkaWFiZXRlcyIsImhlYXJ0RGlzZWFzZSIsImh5cGVydGVuc2lvbiIsInRoeXJvaWQiLCJ0dWJlcmN1bG9zaXMiLCJmYW1pbHlIaXN0b3J5IiwiZGVmYXVsdFBoeXNpY2FsR2VuZXJhbHMiLCJhcHBldGl0ZSIsImJvd2VsIiwidXJpbmUiLCJzd2VhdGluZyIsInNsZWVwIiwidGhpcnN0IiwiYWRkaWN0aW9ucyIsImRlZmF1bHRGb29kQW5kSGFiaXQiLCJmb29kSGFiaXQiLCJkZWZhdWx0TWVuc3RydWFsSGlzdG9yeSIsIm1lbnNlcyIsIm1lbm9wYXVzZSIsImxldWNvcnJob2VhIiwiZ29ub3JyaGVhIiwib3RoZXJEaXNjaGFyZ2VzIiwic2FuaXRpemVkTWVkaWNhbEhpc3RvcnkiLCJzYW5pdGl6ZWRQaHlzaWNhbEdlbmVyYWxzIiwic2FuaXRpemVkTWVuc3RydWFsSGlzdG9yeSIsInNhbml0aXplZEZvb2RBbmRIYWJpdCIsIkpTT04iLCJwYXJzZSIsImUiLCJzYW5pdGl6ZWREYXRhIiwic3RyaW5naWZpZWRNZWRpY2FsSGlzdG9yeSIsInN0cmluZ2lmeSIsInN0cmluZ2lmaWVkUGh5c2ljYWxHZW5lcmFscyIsInN0cmluZ2lmaWVkTWVuc3RydWFsSGlzdG9yeSIsInN0cmluZ2lmaWVkRm9vZEFuZEhhYml0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInVybCIsImhlYWRlcnMiLCJpbmNsdWRlcyIsImJvZHkiLCJzZXNzaW9uIiwic3RhdHVzIiwianNvbiIsInBhdGllbnRzIiwicGF0aWVudCIsImZpbmRNYW55Iiwid2hlcmUiLCJ1c2VyIiwiaWQiLCJpbmNsdWRlIiwiaW52ZXN0aWdhdGlvbnMiLCJzZWxlY3QiLCJlbWFpbCIsImZ1bGxOYW1lIiwicm9sZSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJ0cmFuc2Zvcm1lZFBhdGllbnRzIiwibWFwIiwidXBkYXRlZEF0IiwibWVzc2FnZSIsImRldGFpbHMiLCJ2YWxpZGF0aW9uUmVzdWx0Iiwiam9pbiIsImhhc01lZGljYWxIaXN0b3J5IiwiaGFzUGh5c2ljYWxHZW5lcmFscyIsImhhc01lbnN0cnVhbEhpc3RvcnkiLCJoYXNGb29kQW5kSGFiaXQiLCJmaW5kVW5pcXVlIiwicGF0aWVudERhdGEiLCJuZXdQYXRpZW50IiwiY3JlYXRlIiwidHJhbnNmb3JtZWROZXdQYXRpZW50IiwiY29kZSIsInNldEhlYWRlciIsImVycm9yTWVzc2FnZSIsImVycm9yRGV0YWlscyIsIm1ldGEiLCJjYXVzZSIsImVycm9yQ29kZSIsInN0YWNrIiwiJGRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/patients/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fpatients&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cpatients%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();