"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/services/api-nextjs.js":
/*!************************************!*\
  !*** ./src/services/api-nextjs.js ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiUtils: function() { return /* binding */ apiUtils; },\n/* harmony export */   authAPI: function() { return /* binding */ authAPI; },\n/* harmony export */   healthAPI: function() { return /* binding */ healthAPI; },\n/* harmony export */   investigationsAPI: function() { return /* binding */ investigationsAPI; },\n/* harmony export */   patientsAPI: function() { return /* binding */ patientsAPI; }\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var _utils_dataTransform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/dataTransform */ \"./src/utils/dataTransform.js\");\n/* harmony import */ var _utils_debugLog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/debugLog */ \"./src/utils/debugLog.js\");\n/**\r\n * Next.js API Service Module\r\n * \r\n * Enhanced API service with robust error handling, retry logic, and proper data transformation\r\n */ \n\n\nconst BASE_URL =  false ? 0 : \"http://localhost:3000\";\n// Create axios instance with enhanced configuration\nconst api = axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n    baseURL: \"\".concat(BASE_URL, \"/api\"),\n    timeout: 30000,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    },\n    // Retry configuration\n    retry: 3,\n    retryDelay: 1000\n});\n// Enhanced error handler\nconst handleApiError = (error)=>{\n    if (error.response) {\n        // Server responded with error status\n        const { status, data } = error.response;\n        switch(status){\n            case 400:\n                throw new Error(data.message || \"Invalid request data\");\n            case 401:\n                throw new Error(\"Authentication required. Please log in again.\");\n            case 403:\n                throw new Error(\"You do not have permission to perform this action\");\n            case 404:\n                throw new Error(\"The requested resource was not found\");\n            case 409:\n                throw new Error(data.message || \"Resource conflict\");\n            case 422:\n                throw new Error(data.message || \"Validation error\");\n            case 500:\n                throw new Error(\"Internal server error. Please try again later.\");\n            default:\n                throw new Error(data.message || \"Request failed with status \".concat(status));\n        }\n    } else if (error.request) {\n        // Network error\n        throw new Error(\"Network error. Please check your connection and try again.\");\n    } else {\n        // Request setup error\n        throw new Error(error.message || \"An unexpected error occurred\");\n    }\n};\n// Retry logic for failed requests\nconst retryRequest = async (config)=>{\n    const { retry, retryDelay } = config;\n    for(let i = 0; i < retry; i++){\n        try {\n            return await (0,axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(config);\n        } catch (error) {\n            if (i === retry - 1) throw error;\n            // Don't retry client errors (4xx)\n            if (error.response && error.response.status >= 400 && error.response.status < 500) {\n                throw error;\n            }\n            // Wait before retry\n            await new Promise((resolve)=>setTimeout(resolve, retryDelay * (i + 1)));\n        }\n    }\n};\n// Enhanced request interceptor\napi.interceptors.request.use((config)=>{\n    try {\n        // Transform request data from camelCase to snake_case\n        if (config.data && typeof config.data === \"object\") {\n            // Handle nested JSON objects that might be strings\n            const processedData = {\n                ...config.data\n            };\n            // Ensure these fields are properly serialized for the API\n            [\n                \"medicalHistory\",\n                \"physicalGenerals\",\n                \"menstrualHistory\",\n                \"foodAndHabit\"\n            ].forEach((field)=>{\n                if (processedData[field] && typeof processedData[field] === \"string\") {\n                    try {\n                        processedData[field] = JSON.parse(processedData[field]);\n                    } catch (e) {\n                        // If it's already a valid JSON object, this will fail, which is fine\n                        console.log(\"Field \".concat(field, \" is already parsed or not valid JSON\"));\n                    }\n                }\n            });\n            config.data = (0,_utils_dataTransform__WEBPACK_IMPORTED_MODULE_0__.camelToSnakeCase)(processedData);\n        }\n        // Transform URL parameters from camelCase to snake_case\n        if (config.params && typeof config.params === \"object\") {\n            config.params = (0,_utils_dataTransform__WEBPACK_IMPORTED_MODULE_0__.camelToSnakeCase)(config.params);\n        }\n        return config;\n    } catch (error) {\n        console.error(\"Error in request interceptor:\", error);\n        return config; // Return the original config if transformation fails\n    }\n}, (error)=>{\n    return Promise.reject(error);\n});\n// Enhanced response interceptor\napi.interceptors.response.use((response)=>{\n    // Transform response data from snake_case to camelCase\n    if (response.data) {\n        response.data = (0,_utils_dataTransform__WEBPACK_IMPORTED_MODULE_0__.snakeToCamelCase)(response.data);\n    }\n    return response;\n}, async (error)=>{\n    const config = error.config;\n    // Transform error response data from snake_case to camelCase\n    if (error.response && error.response.data) {\n        error.response.data = (0,_utils_dataTransform__WEBPACK_IMPORTED_MODULE_0__.snakeToCamelCase)(error.response.data);\n    }\n    // Retry logic for network errors and 5xx errors\n    if (config && config.retry && (!error.response || error.response.status >= 500 && error.response.status < 600)) {\n        config.retry--;\n        await new Promise((resolve)=>setTimeout(resolve, config.retryDelay));\n        return api(config);\n    }\n    // Handle API errors\n    handleApiError(error);\n});\n// Enhanced Patients API with validation and error handling\nconst patientsAPI = {\n    getAllPatients: async function() {\n        let params = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        try {\n            const response = await api.get(\"/patients\", {\n                params\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch patients:\", error);\n            throw error;\n        }\n    },\n    getPatient: async (id)=>{\n        if (!id) throw new Error(\"Patient ID is required\");\n        try {\n            const response = await api.get(\"/patients/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch patient \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    createPatient: async (data)=>{\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid patient data is required\");\n        }\n        // Validate required fields before sending to API\n        if (!data.name) throw new Error(\"Patient name is required\");\n        if (!data.address) throw new Error(\"Address is required\");\n        if (!data.age) throw new Error(\"Age is required\");\n        if (!data.sex) throw new Error(\"Sex is required\");\n        if (!data.mobileNumber) throw new Error(\"Mobile number is required\");\n        if (!data.chiefComplaints) throw new Error(\"Chief complaints are required\");\n        try {\n            // Ensure JSON fields are properly structured to avoid issues\n            const sanitizedData = {\n                ...data,\n                medicalHistory: data.medicalHistory || {\n                    pastHistory: {},\n                    familyHistory: {}\n                },\n                physicalGenerals: data.physicalGenerals || {},\n                foodAndHabit: data.foodAndHabit || {},\n                // Only include menstrualHistory for female patients\n                menstrualHistory: data.sex === \"Female\" ? data.menstrualHistory || {} : null\n            };\n            const response = await api.post(\"/patients\", sanitizedData);\n            return response.data;\n        } catch (error) {\n            var _error_response_data, _error_response, _error_response_data1, _error_response1, _error_response2, _error_response3;\n            console.error(\"Failed to create patient:\", error);\n            const errorMessage = ((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || error.message || \"Failed to create patient\";\n            const errorDetails = ((_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : (_error_response_data1 = _error_response1.data) === null || _error_response_data1 === void 0 ? void 0 : _error_response_data1.details) || \"\";\n            console.log(\"API Error Details:\", {\n                status: (_error_response2 = error.response) === null || _error_response2 === void 0 ? void 0 : _error_response2.status,\n                data: (_error_response3 = error.response) === null || _error_response3 === void 0 ? void 0 : _error_response3.data,\n                message: errorMessage,\n                details: errorDetails\n            });\n            throw new Error(\"\".concat(errorMessage).concat(errorDetails ? \": \" + errorDetails : \"\"));\n        }\n    },\n    updatePatient: async (id, data)=>{\n        if (!id) throw new Error(\"Patient ID is required\");\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid patient data is required\");\n        }\n        try {\n            const response = await api.put(\"/patients/\".concat(id), data);\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to update patient \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    deletePatient: async (id)=>{\n        if (!id) throw new Error(\"Patient ID is required\");\n        try {\n            const response = await api.delete(\"/patients/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to delete patient \".concat(id, \":\"), error);\n            throw error;\n        }\n    }\n};\n// Enhanced Investigations API\nconst investigationsAPI = {\n    getAllInvestigations: async function() {\n        let patientId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n        try {\n            const params = patientId ? {\n                patientId\n            } : {};\n            const response = await api.get(\"/investigations\", {\n                params\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch investigations:\", error);\n            throw error;\n        }\n    },\n    getInvestigation: async (id)=>{\n        if (!id) throw new Error(\"Investigation ID is required\");\n        try {\n            const response = await api.get(\"/investigations/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch investigation \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    createInvestigation: async (data)=>{\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid investigation data is required\");\n        }\n        try {\n            const response = await api.post(\"/investigations\", data);\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to create investigation:\", error);\n            throw error;\n        }\n    },\n    updateInvestigation: async (id, data)=>{\n        if (!id) throw new Error(\"Investigation ID is required\");\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid investigation data is required\");\n        }\n        try {\n            const response = await api.put(\"/investigations/\".concat(id), data);\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to update investigation \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    deleteInvestigation: async (id)=>{\n        if (!id) throw new Error(\"Investigation ID is required\");\n        try {\n            const response = await api.delete(\"/investigations/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to delete investigation \".concat(id, \":\"), error);\n            throw error;\n        }\n    }\n};\n// Enhanced Auth/Users API\nconst authAPI = {\n    getCurrentUser: async ()=>{\n        try {\n            const response = await api.get(\"/users/me\");\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch current user:\", error);\n            throw error;\n        }\n    },\n    getUsers: async ()=>{\n        try {\n            const response = await api.get(\"/users\");\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch users:\", error);\n            throw error;\n        }\n    },\n    // These are handled by NextAuth, but keeping for compatibility\n    login: async (email, password)=>{\n        throw new Error(\"Use NextAuth signIn instead of this method\");\n    },\n    logout: async ()=>{\n        throw new Error(\"Use NextAuth signOut instead of this method\");\n    }\n};\n// Enhanced Health check API\nconst healthAPI = {\n    check: async ()=>{\n        try {\n            const response = await api.get(\"/health\");\n            return response.data;\n        } catch (error) {\n            console.error(\"Health check failed:\", error);\n            throw error;\n        }\n    }\n};\n// Utility functions for common operations\nconst apiUtils = {\n    // Check if API is available\n    isApiHealthy: async ()=>{\n        try {\n            await healthAPI.check();\n            return true;\n        } catch (e) {\n            return false;\n        }\n    },\n    // Test database connection\n    testConnection: async ()=>{\n        try {\n            const health = await healthAPI.check();\n            return health.database === \"connected\";\n        } catch (e) {\n            return false;\n        }\n    },\n    // Get API base URL\n    getBaseUrl: ()=>\"\".concat(BASE_URL, \"/api\")\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (api);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0JBQXdCQTtZQUN0QyxNQUFNQTtRQUNSO0lBQ0Y7QUFDRixFQUFFO0FBRUYsMENBQTBDO0FBQ25DLE1BQU1vRSxXQUFXO0lBQ3RCLDRCQUE0QjtJQUM1QkMsY0FBYztRQUNaLElBQUk7WUFDRixNQUFNSCxVQUFVQyxLQUFLO1lBQ3JCLE9BQU87UUFDVCxFQUFFLFVBQU07WUFDTixPQUFPO1FBQ1Q7SUFDRjtJQUVBLDJCQUEyQjtJQUMzQkcsZ0JBQWdCO1FBQ2QsSUFBSTtZQUNGLE1BQU1DLFNBQVMsTUFBTUwsVUFBVUMsS0FBSztZQUNwQyxPQUFPSSxPQUFPQyxRQUFRLEtBQUs7UUFDN0IsRUFBRSxVQUFNO1lBQ04sT0FBTztRQUNUO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkJDLFlBQVksSUFBTSxHQUFZLE9BQVRyRixVQUFTO0FBQ2hDLEVBQUU7QUFFRiwrREFBZUksR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvc2VydmljZXMvYXBpLW5leHRqcy5qcz9kNTJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBOZXh0LmpzIEFQSSBTZXJ2aWNlIE1vZHVsZVxyXG4gKiBcclxuICogRW5oYW5jZWQgQVBJIHNlcnZpY2Ugd2l0aCByb2J1c3QgZXJyb3IgaGFuZGxpbmcsIHJldHJ5IGxvZ2ljLCBhbmQgcHJvcGVyIGRhdGEgdHJhbnNmb3JtYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgeyBcclxuICAgIHNuYWtlVG9DYW1lbENhc2UsIFxyXG4gICAgY2FtZWxUb1NuYWtlQ2FzZSxcclxuICAgIHRyYW5zZm9ybUlmTmVlZGVkIFxyXG59IGZyb20gJy4uL3V0aWxzL2RhdGFUcmFuc2Zvcm0nO1xyXG5pbXBvcnQgZGVidWdMb2cgZnJvbSAnLi4vdXRpbHMvZGVidWdMb2cnO1xyXG5cclxuY29uc3QgQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nIFxyXG4gID8gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cHM6Ly95b3VyLWFwcC52ZXJjZWwuYXBwJ1xyXG4gIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XHJcblxyXG4vLyBDcmVhdGUgYXhpb3MgaW5zdGFuY2Ugd2l0aCBlbmhhbmNlZCBjb25maWd1cmF0aW9uXHJcbmNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XHJcbiAgYmFzZVVSTDogYCR7QkFTRV9VUkx9L2FwaWAsXHJcbiAgdGltZW91dDogMzAwMDAsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICB9LFxyXG4gIC8vIFJldHJ5IGNvbmZpZ3VyYXRpb25cclxuICByZXRyeTogMyxcclxuICByZXRyeURlbGF5OiAxMDAwLFxyXG59KTtcclxuXHJcbi8vIEVuaGFuY2VkIGVycm9yIGhhbmRsZXJcclxuY29uc3QgaGFuZGxlQXBpRXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcclxuICAgIC8vIFNlcnZlciByZXNwb25kZWQgd2l0aCBlcnJvciBzdGF0dXNcclxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBlcnJvci5yZXNwb25zZTtcclxuICAgIFxyXG4gICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgY2FzZSA0MDA6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW52YWxpZCByZXF1ZXN0IGRhdGEnKTtcclxuICAgICAgY2FzZSA0MDE6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZC4gUGxlYXNlIGxvZyBpbiBhZ2Fpbi4nKTtcclxuICAgICAgY2FzZSA0MDM6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBwZXJmb3JtIHRoaXMgYWN0aW9uJyk7XHJcbiAgICAgIGNhc2UgNDA0OlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJlcXVlc3RlZCByZXNvdXJjZSB3YXMgbm90IGZvdW5kJyk7XHJcbiAgICAgIGNhc2UgNDA5OlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ1Jlc291cmNlIGNvbmZsaWN0Jyk7XHJcbiAgICAgIGNhc2UgNDIyOlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ1ZhbGlkYXRpb24gZXJyb3InKTtcclxuICAgICAgY2FzZSA1MDA6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCBgUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtzdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChlcnJvci5yZXF1ZXN0KSB7XHJcbiAgICAvLyBOZXR3b3JrIGVycm9yXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi4nKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gUmVxdWVzdCBzZXR1cCBlcnJvclxyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBSZXRyeSBsb2dpYyBmb3IgZmFpbGVkIHJlcXVlc3RzXHJcbmNvbnN0IHJldHJ5UmVxdWVzdCA9IGFzeW5jIChjb25maWcpID0+IHtcclxuICBjb25zdCB7IHJldHJ5LCByZXRyeURlbGF5IH0gPSBjb25maWc7XHJcbiAgXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXRyeTsgaSsrKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgYXhpb3MoY29uZmlnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGlmIChpID09PSByZXRyeSAtIDEpIHRocm93IGVycm9yO1xyXG4gICAgICBcclxuICAgICAgLy8gRG9uJ3QgcmV0cnkgY2xpZW50IGVycm9ycyAoNHh4KVxyXG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID49IDQwMCAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPCA1MDApIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gV2FpdCBiZWZvcmUgcmV0cnlcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHJldHJ5RGVsYXkgKiAoaSArIDEpKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRW5oYW5jZWQgcmVxdWVzdCBpbnRlcmNlcHRvclxyXG5hcGkuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKFxyXG4gIChjb25maWcpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGEgZnJvbSBjYW1lbENhc2UgdG8gc25ha2VfY2FzZVxyXG4gICAgICBpZiAoY29uZmlnLmRhdGEgJiYgdHlwZW9mIGNvbmZpZy5kYXRhID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgSlNPTiBvYmplY3RzIHRoYXQgbWlnaHQgYmUgc3RyaW5nc1xyXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZERhdGEgPSB7IC4uLmNvbmZpZy5kYXRhIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRW5zdXJlIHRoZXNlIGZpZWxkcyBhcmUgcHJvcGVybHkgc2VyaWFsaXplZCBmb3IgdGhlIEFQSVxyXG4gICAgICAgIFsnbWVkaWNhbEhpc3RvcnknLCAncGh5c2ljYWxHZW5lcmFscycsICdtZW5zdHJ1YWxIaXN0b3J5JywgJ2Zvb2RBbmRIYWJpdCddLmZvckVhY2goZmllbGQgPT4ge1xyXG4gICAgICAgICAgaWYgKHByb2Nlc3NlZERhdGFbZmllbGRdICYmIHR5cGVvZiBwcm9jZXNzZWREYXRhW2ZpZWxkXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBwcm9jZXNzZWREYXRhW2ZpZWxkXSA9IEpTT04ucGFyc2UocHJvY2Vzc2VkRGF0YVtmaWVsZF0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgaXQncyBhbHJlYWR5IGEgdmFsaWQgSlNPTiBvYmplY3QsIHRoaXMgd2lsbCBmYWlsLCB3aGljaCBpcyBmaW5lXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpZWxkICR7ZmllbGR9IGlzIGFscmVhZHkgcGFyc2VkIG9yIG5vdCB2YWxpZCBKU09OYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25maWcuZGF0YSA9IGNhbWVsVG9TbmFrZUNhc2UocHJvY2Vzc2VkRGF0YSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFRyYW5zZm9ybSBVUkwgcGFyYW1ldGVycyBmcm9tIGNhbWVsQ2FzZSB0byBzbmFrZV9jYXNlXHJcbiAgICAgIGlmIChjb25maWcucGFyYW1zICYmIHR5cGVvZiBjb25maWcucGFyYW1zID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGNvbmZpZy5wYXJhbXMgPSBjYW1lbFRvU25ha2VDYXNlKGNvbmZpZy5wYXJhbXMpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gcmVxdWVzdCBpbnRlcmNlcHRvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBjb25maWc7IC8vIFJldHVybiB0aGUgb3JpZ2luYWwgY29uZmlnIGlmIHRyYW5zZm9ybWF0aW9uIGZhaWxzXHJcbiAgICB9XHJcbiAgfSxcclxuICAoZXJyb3IpID0+IHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgfVxyXG4pO1xyXG5cclxuLy8gRW5oYW5jZWQgcmVzcG9uc2UgaW50ZXJjZXB0b3JcclxuYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXHJcbiAgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YSBmcm9tIHNuYWtlX2Nhc2UgdG8gY2FtZWxDYXNlXHJcbiAgICBpZiAocmVzcG9uc2UuZGF0YSkge1xyXG4gICAgICByZXNwb25zZS5kYXRhID0gc25ha2VUb0NhbWVsQ2FzZShyZXNwb25zZS5kYXRhKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXNwb25zZTtcclxuICB9LFxyXG4gIGFzeW5jIChlcnJvcikgPT4ge1xyXG4gICAgY29uc3QgY29uZmlnID0gZXJyb3IuY29uZmlnO1xyXG4gICAgXHJcbiAgICAvLyBUcmFuc2Zvcm0gZXJyb3IgcmVzcG9uc2UgZGF0YSBmcm9tIHNuYWtlX2Nhc2UgdG8gY2FtZWxDYXNlXHJcbiAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSkge1xyXG4gICAgICBlcnJvci5yZXNwb25zZS5kYXRhID0gc25ha2VUb0NhbWVsQ2FzZShlcnJvci5yZXNwb25zZS5kYXRhKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUmV0cnkgbG9naWMgZm9yIG5ldHdvcmsgZXJyb3JzIGFuZCA1eHggZXJyb3JzXHJcbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5yZXRyeSAmJiAoXHJcbiAgICAgICFlcnJvci5yZXNwb25zZSB8fCBcclxuICAgICAgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA+PSA1MDAgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzIDwgNjAwKVxyXG4gICAgKSkge1xyXG4gICAgICBjb25maWcucmV0cnktLTtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGNvbmZpZy5yZXRyeURlbGF5KSk7XHJcbiAgICAgIHJldHVybiBhcGkoY29uZmlnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIEFQSSBlcnJvcnNcclxuICAgIGhhbmRsZUFwaUVycm9yKGVycm9yKTtcclxuICB9XHJcbik7XHJcblxyXG4vLyBFbmhhbmNlZCBQYXRpZW50cyBBUEkgd2l0aCB2YWxpZGF0aW9uIGFuZCBlcnJvciBoYW5kbGluZ1xyXG5leHBvcnQgY29uc3QgcGF0aWVudHNBUEkgPSB7XHJcbiAgZ2V0QWxsUGF0aWVudHM6IGFzeW5jIChwYXJhbXMgPSB7fSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KCcvcGF0aWVudHMnLCB7IHBhcmFtcyB9KTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggcGF0aWVudHM6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBnZXRQYXRpZW50OiBhc3luYyAoaWQpID0+IHtcclxuICAgIGlmICghaWQpIHRocm93IG5ldyBFcnJvcignUGF0aWVudCBJRCBpcyByZXF1aXJlZCcpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQoYC9wYXRpZW50cy8ke2lkfWApO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwYXRpZW50ICR7aWR9OmAsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgY3JlYXRlUGF0aWVudDogYXN5bmMgKGRhdGEpID0+IHtcclxuICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWxpZCBwYXRpZW50IGRhdGEgaXMgcmVxdWlyZWQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzIGJlZm9yZSBzZW5kaW5nIHRvIEFQSVxyXG4gICAgaWYgKCFkYXRhLm5hbWUpIHRocm93IG5ldyBFcnJvcignUGF0aWVudCBuYW1lIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBpZiAoIWRhdGEuYWRkcmVzcykgdGhyb3cgbmV3IEVycm9yKCdBZGRyZXNzIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBpZiAoIWRhdGEuYWdlKSB0aHJvdyBuZXcgRXJyb3IoJ0FnZSBpcyByZXF1aXJlZCcpO1xyXG4gICAgaWYgKCFkYXRhLnNleCkgdGhyb3cgbmV3IEVycm9yKCdTZXggaXMgcmVxdWlyZWQnKTtcclxuICAgIGlmICghZGF0YS5tb2JpbGVOdW1iZXIpIHRocm93IG5ldyBFcnJvcignTW9iaWxlIG51bWJlciBpcyByZXF1aXJlZCcpO1xyXG4gICAgaWYgKCFkYXRhLmNoaWVmQ29tcGxhaW50cykgdGhyb3cgbmV3IEVycm9yKCdDaGllZiBjb21wbGFpbnRzIGFyZSByZXF1aXJlZCcpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBFbnN1cmUgSlNPTiBmaWVsZHMgYXJlIHByb3Blcmx5IHN0cnVjdHVyZWQgdG8gYXZvaWQgaXNzdWVzXHJcbiAgICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSB7XHJcbiAgICAgICAgLi4uZGF0YSxcclxuICAgICAgICBtZWRpY2FsSGlzdG9yeTogZGF0YS5tZWRpY2FsSGlzdG9yeSB8fCB7XHJcbiAgICAgICAgICBwYXN0SGlzdG9yeToge30sXHJcbiAgICAgICAgICBmYW1pbHlIaXN0b3J5OiB7fVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGh5c2ljYWxHZW5lcmFsczogZGF0YS5waHlzaWNhbEdlbmVyYWxzIHx8IHt9LFxyXG4gICAgICAgIGZvb2RBbmRIYWJpdDogZGF0YS5mb29kQW5kSGFiaXQgfHwge30sXHJcbiAgICAgICAgLy8gT25seSBpbmNsdWRlIG1lbnN0cnVhbEhpc3RvcnkgZm9yIGZlbWFsZSBwYXRpZW50c1xyXG4gICAgICAgIG1lbnN0cnVhbEhpc3Rvcnk6IGRhdGEuc2V4ID09PSAnRmVtYWxlJyA/IChkYXRhLm1lbnN0cnVhbEhpc3RvcnkgfHwge30pIDogbnVsbFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdCgnL3BhdGllbnRzJywgc2FuaXRpemVkRGF0YSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBwYXRpZW50OicsIGVycm9yKTtcclxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBwYXRpZW50JztcclxuICAgICAgY29uc3QgZXJyb3JEZXRhaWxzID0gZXJyb3IucmVzcG9uc2U/LmRhdGE/LmRldGFpbHMgfHwgJyc7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnQVBJIEVycm9yIERldGFpbHM6Jywge1xyXG4gICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcclxuICAgICAgICBkYXRhOiBlcnJvci5yZXNwb25zZT8uZGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgICAgZGV0YWlsczogZXJyb3JEZXRhaWxzXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2Vycm9yTWVzc2FnZX0ke2Vycm9yRGV0YWlscyA/ICc6ICcgKyBlcnJvckRldGFpbHMgOiAnJ31gKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICB1cGRhdGVQYXRpZW50OiBhc3luYyAoaWQsIGRhdGEpID0+IHtcclxuICAgIGlmICghaWQpIHRocm93IG5ldyBFcnJvcignUGF0aWVudCBJRCBpcyByZXF1aXJlZCcpO1xyXG4gICAgaWYgKCFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbGlkIHBhdGllbnQgZGF0YSBpcyByZXF1aXJlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wdXQoYC9wYXRpZW50cy8ke2lkfWAsIGRhdGEpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgcGF0aWVudCAke2lkfTpgLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGRlbGV0ZVBhdGllbnQ6IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgaWYgKCFpZCkgdGhyb3cgbmV3IEVycm9yKCdQYXRpZW50IElEIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmRlbGV0ZShgL3BhdGllbnRzLyR7aWR9YCk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSBwYXRpZW50ICR7aWR9OmAsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxufTtcclxuXHJcbi8vIEVuaGFuY2VkIEludmVzdGlnYXRpb25zIEFQSVxyXG5leHBvcnQgY29uc3QgaW52ZXN0aWdhdGlvbnNBUEkgPSB7XHJcbiAgZ2V0QWxsSW52ZXN0aWdhdGlvbnM6IGFzeW5jIChwYXRpZW50SWQgPSBudWxsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwYXJhbXMgPSBwYXRpZW50SWQgPyB7IHBhdGllbnRJZCB9IDoge307XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL2ludmVzdGlnYXRpb25zJywgeyBwYXJhbXMgfSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGludmVzdGlnYXRpb25zOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZ2V0SW52ZXN0aWdhdGlvbjogYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmVzdGlnYXRpb24gSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KGAvaW52ZXN0aWdhdGlvbnMvJHtpZH1gKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggaW52ZXN0aWdhdGlvbiAke2lkfTpgLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGNyZWF0ZUludmVzdGlnYXRpb246IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWQgaW52ZXN0aWdhdGlvbiBkYXRhIGlzIHJlcXVpcmVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnBvc3QoJy9pbnZlc3RpZ2F0aW9ucycsIGRhdGEpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgaW52ZXN0aWdhdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZUludmVzdGlnYXRpb246IGFzeW5jIChpZCwgZGF0YSkgPT4ge1xyXG4gICAgaWYgKCFpZCkgdGhyb3cgbmV3IEVycm9yKCdJbnZlc3RpZ2F0aW9uIElEIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWQgaW52ZXN0aWdhdGlvbiBkYXRhIGlzIHJlcXVpcmVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnB1dChgL2ludmVzdGlnYXRpb25zLyR7aWR9YCwgZGF0YSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSBpbnZlc3RpZ2F0aW9uICR7aWR9OmAsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZGVsZXRlSW52ZXN0aWdhdGlvbjogYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmVzdGlnYXRpb24gSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZGVsZXRlKGAvaW52ZXN0aWdhdGlvbnMvJHtpZH1gKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGludmVzdGlnYXRpb24gJHtpZH06YCwgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LFxyXG59O1xyXG5cclxuLy8gRW5oYW5jZWQgQXV0aC9Vc2VycyBBUElcclxuZXhwb3J0IGNvbnN0IGF1dGhBUEkgPSB7XHJcbiAgZ2V0Q3VycmVudFVzZXI6IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL3VzZXJzL21lJyk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGdldFVzZXJzOiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQoJy91c2VycycpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyczonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gVGhlc2UgYXJlIGhhbmRsZWQgYnkgTmV4dEF1dGgsIGJ1dCBrZWVwaW5nIGZvciBjb21wYXRpYmlsaXR5XHJcbiAgbG9naW46IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVXNlIE5leHRBdXRoIHNpZ25JbiBpbnN0ZWFkIG9mIHRoaXMgbWV0aG9kJyk7XHJcbiAgfSxcclxuICBcclxuICBsb2dvdXQ6IGFzeW5jICgpID0+IHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVXNlIE5leHRBdXRoIHNpZ25PdXQgaW5zdGVhZCBvZiB0aGlzIG1ldGhvZCcpO1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBFbmhhbmNlZCBIZWFsdGggY2hlY2sgQVBJXHJcbmV4cG9ydCBjb25zdCBoZWFsdGhBUEkgPSB7XHJcbiAgY2hlY2s6IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL2hlYWx0aCcpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0hlYWx0aCBjaGVjayBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LFxyXG59O1xyXG5cclxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNvbW1vbiBvcGVyYXRpb25zXHJcbmV4cG9ydCBjb25zdCBhcGlVdGlscyA9IHtcclxuICAvLyBDaGVjayBpZiBBUEkgaXMgYXZhaWxhYmxlXHJcbiAgaXNBcGlIZWFsdGh5OiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBoZWFsdGhBUEkuY2hlY2soKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvblxyXG4gIHRlc3RDb25uZWN0aW9uOiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBoZWFsdGggPSBhd2FpdCBoZWFsdGhBUEkuY2hlY2soKTtcclxuICAgICAgcmV0dXJuIGhlYWx0aC5kYXRhYmFzZSA9PT0gJ2Nvbm5lY3RlZCc7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIEdldCBBUEkgYmFzZSBVUkxcclxuICBnZXRCYXNlVXJsOiAoKSA9PiBgJHtCQVNFX1VSTH0vYXBpYCxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaTtcclxuIl0sIm5hbWVzIjpbImF4aW9zIiwic25ha2VUb0NhbWVsQ2FzZSIsImNhbWVsVG9TbmFrZUNhc2UiLCJ0cmFuc2Zvcm1JZk5lZWRlZCIsImRlYnVnTG9nIiwiQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImFwaSIsImNyZWF0ZSIsImJhc2VVUkwiLCJ0aW1lb3V0IiwiaGVhZGVycyIsInJldHJ5IiwicmV0cnlEZWxheSIsImhhbmRsZUFwaUVycm9yIiwiZXJyb3IiLCJyZXNwb25zZSIsInN0YXR1cyIsImRhdGEiLCJFcnJvciIsIm1lc3NhZ2UiLCJyZXF1ZXN0IiwicmV0cnlSZXF1ZXN0IiwiY29uZmlnIiwiaSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImludGVyY2VwdG9ycyIsInVzZSIsInByb2Nlc3NlZERhdGEiLCJmb3JFYWNoIiwiZmllbGQiLCJKU09OIiwicGFyc2UiLCJlIiwiY29uc29sZSIsImxvZyIsInBhcmFtcyIsInJlamVjdCIsInBhdGllbnRzQVBJIiwiZ2V0QWxsUGF0aWVudHMiLCJnZXQiLCJnZXRQYXRpZW50IiwiaWQiLCJjcmVhdGVQYXRpZW50IiwibmFtZSIsImFkZHJlc3MiLCJhZ2UiLCJzZXgiLCJtb2JpbGVOdW1iZXIiLCJjaGllZkNvbXBsYWludHMiLCJzYW5pdGl6ZWREYXRhIiwibWVkaWNhbEhpc3RvcnkiLCJwYXN0SGlzdG9yeSIsImZhbWlseUhpc3RvcnkiLCJwaHlzaWNhbEdlbmVyYWxzIiwiZm9vZEFuZEhhYml0IiwibWVuc3RydWFsSGlzdG9yeSIsInBvc3QiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckRldGFpbHMiLCJkZXRhaWxzIiwidXBkYXRlUGF0aWVudCIsInB1dCIsImRlbGV0ZVBhdGllbnQiLCJkZWxldGUiLCJpbnZlc3RpZ2F0aW9uc0FQSSIsImdldEFsbEludmVzdGlnYXRpb25zIiwicGF0aWVudElkIiwiZ2V0SW52ZXN0aWdhdGlvbiIsImNyZWF0ZUludmVzdGlnYXRpb24iLCJ1cGRhdGVJbnZlc3RpZ2F0aW9uIiwiZGVsZXRlSW52ZXN0aWdhdGlvbiIsImF1dGhBUEkiLCJnZXRDdXJyZW50VXNlciIsImdldFVzZXJzIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwibG9nb3V0IiwiaGVhbHRoQVBJIiwiY2hlY2siLCJhcGlVdGlscyIsImlzQXBpSGVhbHRoeSIsInRlc3RDb25uZWN0aW9uIiwiaGVhbHRoIiwiZGF0YWJhc2UiLCJnZXRCYXNlVXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/services/api-nextjs.js\n"));

/***/ }),

/***/ "./src/utils/debugLog.js":
/*!*******************************!*\
  !*** ./src/utils/debugLog.js ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   debugLog: function() { return /* binding */ debugLog; }\n/* harmony export */ });\n/**\r\n * Debug logging utility for better error reporting\r\n */ // Set to true to enable debug logging\nconst DEBUG_MODE = true;\n/**\r\n * Enhanced debug logging function\r\n * @param {string} title - Log title\r\n * @param {any} data - Data to log\r\n * @param {string} type - Log type (log, error, warn, info)\r\n */ const debugLog = function(title, data) {\n    let type = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"log\";\n    if (!DEBUG_MODE) return;\n    const styles = {\n        title: \"color: #0066ff; font-weight: bold; font-size: 1.1em\",\n        log: \"color: #333333\",\n        error: \"color: #ff0033; font-weight: bold\",\n        warn: \"color: #ff9900\",\n        info: \"color: #00cc66\"\n    };\n    try {\n        console.groupCollapsed(\"%c\".concat(title), styles.title);\n        if (type === \"error\") {\n            console.error(\"%cERROR:\", styles.error, data);\n        } else if (type === \"warn\") {\n            console.warn(\"%cWARNING:\", styles.warn, data);\n        } else if (type === \"info\") {\n            console.info(\"%cINFO:\", styles.info, data);\n        } else {\n            console.log(data);\n        }\n        // Log the stack trace for errors\n        if (type === \"error\" && data instanceof Error) {\n            console.error(\"Stack:\", data.stack);\n        }\n        console.groupEnd();\n    } catch (e) {\n        // Fallback for environments that don't support console styling\n        console.log(\"\".concat(title, \":\"), data);\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (debugLog);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZGVidWdMb2cuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztDQUVDLEdBRUQsc0NBQXNDO0FBQ3RDLE1BQU1BLGFBQWE7QUFFbkI7Ozs7O0NBS0MsR0FDTSxNQUFNQyxXQUFXLFNBQUNDLE9BQU9DO1FBQU1DLHdFQUFPO0lBQzNDLElBQUksQ0FBQ0osWUFBWTtJQUVqQixNQUFNSyxTQUFTO1FBQ2JILE9BQU87UUFDUEksS0FBSztRQUNMQyxPQUFPO1FBQ1BDLE1BQU07UUFDTkMsTUFBTTtJQUNSO0lBRUEsSUFBSTtRQUNGQyxRQUFRQyxjQUFjLENBQUMsS0FBVyxPQUFOVCxRQUFTRyxPQUFPSCxLQUFLO1FBRWpELElBQUlFLFNBQVMsU0FBUztZQUNwQk0sUUFBUUgsS0FBSyxDQUFDLFlBQVlGLE9BQU9FLEtBQUssRUFBRUo7UUFDMUMsT0FBTyxJQUFJQyxTQUFTLFFBQVE7WUFDMUJNLFFBQVFGLElBQUksQ0FBQyxjQUFjSCxPQUFPRyxJQUFJLEVBQUVMO1FBQzFDLE9BQU8sSUFBSUMsU0FBUyxRQUFRO1lBQzFCTSxRQUFRRCxJQUFJLENBQUMsV0FBV0osT0FBT0ksSUFBSSxFQUFFTjtRQUN2QyxPQUFPO1lBQ0xPLFFBQVFKLEdBQUcsQ0FBQ0g7UUFDZDtRQUVBLGlDQUFpQztRQUNqQyxJQUFJQyxTQUFTLFdBQVdELGdCQUFnQlMsT0FBTztZQUM3Q0YsUUFBUUgsS0FBSyxDQUFDLFVBQVVKLEtBQUtVLEtBQUs7UUFDcEM7UUFFQUgsUUFBUUksUUFBUTtJQUNsQixFQUFFLE9BQU9DLEdBQUc7UUFDViwrREFBK0Q7UUFDL0RMLFFBQVFKLEdBQUcsQ0FBQyxHQUFTLE9BQU5KLE9BQU0sTUFBSUM7SUFDM0I7QUFDRixFQUFFO0FBRUYsK0RBQWVGLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3V0aWxzL2RlYnVnTG9nLmpzP2YwMjIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIERlYnVnIGxvZ2dpbmcgdXRpbGl0eSBmb3IgYmV0dGVyIGVycm9yIHJlcG9ydGluZ1xyXG4gKi9cclxuXHJcbi8vIFNldCB0byB0cnVlIHRvIGVuYWJsZSBkZWJ1ZyBsb2dnaW5nXHJcbmNvbnN0IERFQlVHX01PREUgPSB0cnVlO1xyXG5cclxuLyoqXHJcbiAqIEVuaGFuY2VkIGRlYnVnIGxvZ2dpbmcgZnVuY3Rpb25cclxuICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIC0gTG9nIHRpdGxlXHJcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBsb2dcclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBMb2cgdHlwZSAobG9nLCBlcnJvciwgd2FybiwgaW5mbylcclxuICovXHJcbmV4cG9ydCBjb25zdCBkZWJ1Z0xvZyA9ICh0aXRsZSwgZGF0YSwgdHlwZSA9ICdsb2cnKSA9PiB7XHJcbiAgaWYgKCFERUJVR19NT0RFKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHN0eWxlcyA9IHtcclxuICAgIHRpdGxlOiAnY29sb3I6ICMwMDY2ZmY7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDEuMWVtJyxcclxuICAgIGxvZzogJ2NvbG9yOiAjMzMzMzMzJyxcclxuICAgIGVycm9yOiAnY29sb3I6ICNmZjAwMzM7IGZvbnQtd2VpZ2h0OiBib2xkJyxcclxuICAgIHdhcm46ICdjb2xvcjogI2ZmOTkwMCcsXHJcbiAgICBpbmZvOiAnY29sb3I6ICMwMGNjNjYnXHJcbiAgfTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoYCVjJHt0aXRsZX1gLCBzdHlsZXMudGl0bGUpO1xyXG4gICAgXHJcbiAgICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCclY0VSUk9SOicsIHN0eWxlcy5lcnJvciwgZGF0YSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3YXJuJykge1xyXG4gICAgICBjb25zb2xlLndhcm4oJyVjV0FSTklORzonLCBzdHlsZXMud2FybiwgZGF0YSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbmZvJykge1xyXG4gICAgICBjb25zb2xlLmluZm8oJyVjSU5GTzonLCBzdHlsZXMuaW5mbywgZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTG9nIHRoZSBzdGFjayB0cmFjZSBmb3IgZXJyb3JzXHJcbiAgICBpZiAodHlwZSA9PT0gJ2Vycm9yJyAmJiBkYXRhIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU3RhY2s6JywgZGF0YS5zdGFjayk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBGYWxsYmFjayBmb3IgZW52aXJvbm1lbnRzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBjb25zb2xlIHN0eWxpbmdcclxuICAgIGNvbnNvbGUubG9nKGAke3RpdGxlfTpgLCBkYXRhKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkZWJ1Z0xvZztcclxuIl0sIm5hbWVzIjpbIkRFQlVHX01PREUiLCJkZWJ1Z0xvZyIsInRpdGxlIiwiZGF0YSIsInR5cGUiLCJzdHlsZXMiLCJsb2ciLCJlcnJvciIsIndhcm4iLCJpbmZvIiwiY29uc29sZSIsImdyb3VwQ29sbGFwc2VkIiwiRXJyb3IiLCJzdGFjayIsImdyb3VwRW5kIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/debugLog.js\n"));

/***/ })

});