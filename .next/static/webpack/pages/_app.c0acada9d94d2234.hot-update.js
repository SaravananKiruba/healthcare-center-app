"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/services/api-nextjs.js":
/*!************************************!*\
  !*** ./src/services/api-nextjs.js ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiUtils: function() { return /* binding */ apiUtils; },\n/* harmony export */   authAPI: function() { return /* binding */ authAPI; },\n/* harmony export */   healthAPI: function() { return /* binding */ healthAPI; },\n/* harmony export */   investigationsAPI: function() { return /* binding */ investigationsAPI; },\n/* harmony export */   patientsAPI: function() { return /* binding */ patientsAPI; }\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var _utils_dataTransform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/dataTransform */ \"./src/utils/dataTransform.js\");\n/* harmony import */ var _utils_debugLog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/debugLog */ \"./src/utils/debugLog.js\");\n/**\r\n * Next.js API Service Module\r\n * \r\n * Enhanced API service with robust error handling, retry logic, and proper data transformation\r\n */ \n\n\nconst BASE_URL =  false ? 0 : \"http://localhost:3000\";\n// Helper function to transform JSON string fields to objects\nconst transformJsonFields = (item)=>{\n    if (!item || typeof item !== \"object\") return item;\n    const result = {\n        ...item\n    };\n    // These fields should be objects, not JSON strings\n    [\n        \"medicalHistory\",\n        \"physicalGenerals\",\n        \"menstrualHistory\",\n        \"foodAndHabit\"\n    ].forEach((field)=>{\n        if (result[field] && typeof result[field] === \"string\") {\n            try {\n                result[field] = JSON.parse(result[field]);\n            } catch (e) {\n                console.log(\"Could not parse \".concat(field, \" as JSON:\"), e);\n            }\n        }\n    });\n    return result;\n};\n// Create axios instance with enhanced configuration\nconst api = axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n    baseURL: \"\".concat(BASE_URL, \"/api\"),\n    timeout: 30000,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    },\n    // Retry configuration\n    retry: 3,\n    retryDelay: 1000\n});\n// Enhanced error handler\nconst handleApiError = (error)=>{\n    if (error.response) {\n        // Server responded with error status\n        const { status, data } = error.response;\n        // For debugging validation errors\n        if (status === 400 && data.details) {\n            console.error(\"Validation error details:\", data.details);\n        }\n        switch(status){\n            case 400:\n                // Create a more detailed error for validation failures\n                const errorMsg = data.details ? \"\".concat(data.message, \": \").concat(data.details) : data.message || \"Invalid request data\";\n                throw new Error(errorMsg);\n            case 401:\n                throw new Error(\"Authentication required. Please log in again.\");\n            case 403:\n                throw new Error(\"You do not have permission to perform this action\");\n            case 404:\n                throw new Error(\"The requested resource was not found\");\n            case 409:\n                throw new Error(data.message || \"Resource conflict\");\n            case 422:\n                throw new Error(data.message || \"Validation error\");\n            case 500:\n                throw new Error(\"Internal server error. Please try again later.\");\n            default:\n                throw new Error(data.message || \"Request failed with status \".concat(status));\n        }\n    } else if (error.request) {\n        // Network error\n        throw new Error(\"Network error. Please check your connection and try again.\");\n    } else {\n        // Request setup error\n        throw new Error(error.message || \"An unexpected error occurred\");\n    }\n};\n// Retry logic for failed requests\nconst retryRequest = async (config)=>{\n    const { retry, retryDelay } = config;\n    for(let i = 0; i < retry; i++){\n        try {\n            return await (0,axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(config);\n        } catch (error) {\n            if (i === retry - 1) throw error;\n            // Don't retry client errors (4xx)\n            if (error.response && error.response.status >= 400 && error.response.status < 500) {\n                throw error;\n            }\n            // Wait before retry\n            await new Promise((resolve)=>setTimeout(resolve, retryDelay * (i + 1)));\n        }\n    }\n};\n// Enhanced request interceptor\napi.interceptors.request.use((config)=>{\n    try {\n        // Transform request data from camelCase to snake_case\n        if (config.data && typeof config.data === \"object\") {\n            var _config_url;\n            // Handle nested JSON objects that might be strings\n            const processedData = {\n                ...config.data\n            };\n            // Log for debugging\n            console.log(\"Request payload before processing:\", processedData);\n            // Ensure required fields are present and properly formatted\n            if (((_config_url = config.url) === null || _config_url === void 0 ? void 0 : _config_url.includes(\"/patients\")) && (config.method === \"post\" || config.method === \"put\")) {\n                // Check required fields\n                if (!processedData.mobileNumber) {\n                    console.warn(\"Mobile number missing in request payload\");\n                    // Set a default to prevent undefined errors\n                    processedData.mobileNumber = processedData.mobileNumber || \"\";\n                }\n                if (!processedData.chiefComplaints) {\n                    console.warn(\"Chief complaints missing in request payload\");\n                    // Set a default to prevent undefined errors\n                    processedData.chiefComplaints = processedData.chiefComplaints || \"\";\n                }\n            }\n            // Ensure these fields are properly handled for the API\n            [\n                \"medicalHistory\",\n                \"physicalGenerals\",\n                \"menstrualHistory\",\n                \"foodAndHabit\"\n            ].forEach((field)=>{\n                if (processedData[field]) {\n                    // If it's already an object, stringify it for storage\n                    if (typeof processedData[field] === \"object\") {\n                        processedData[field] = JSON.stringify(processedData[field]);\n                    } else if (typeof processedData[field] === \"string\") {\n                        // Check if it's already valid JSON string\n                        try {\n                            JSON.parse(processedData[field]);\n                        // It's already a valid JSON string, leave it as is\n                        } catch (e) {\n                            // It's a string but not valid JSON, convert to JSON string\n                            processedData[field] = JSON.stringify(processedData[field]);\n                        }\n                    }\n                }\n            });\n            // Skip camelToSnakeCase transformation for this specific API to prevent field name issues\n            // The backend uses camelCase field names already\n            config.data = processedData;\n        }\n        // Transform URL parameters from camelCase to snake_case\n        if (config.params && typeof config.params === \"object\") {\n            config.params = (0,_utils_dataTransform__WEBPACK_IMPORTED_MODULE_0__.camelToSnakeCase)(config.params);\n        }\n        return config;\n    } catch (error) {\n        console.error(\"Error in request interceptor:\", error);\n        return config; // Return the original config if transformation fails\n    }\n}, (error)=>{\n    return Promise.reject(error);\n});\n// Enhanced response interceptor\napi.interceptors.response.use((response)=>{\n    // Skip transformation since we're already using camelCase consistently\n    // Parse any JSON strings that should be objects in the response\n    if (response.data) {\n        if (Array.isArray(response.data)) {\n            // Handle array responses\n            response.data = response.data.map((item)=>{\n                return transformJsonFields(item);\n            });\n        } else {\n            // Handle single object responses\n            response.data = transformJsonFields(response.data);\n        }\n    }\n    return response;\n}, async (error)=>{\n    const config = error.config;\n    // Skip transformation for error responses too\n    if (error.response && error.response.data) {\n        error.response.data = error.response.data;\n    }\n    // Retry logic for network errors and 5xx errors\n    if (config && config.retry && (!error.response || error.response.status >= 500 && error.response.status < 600)) {\n        config.retry--;\n        await new Promise((resolve)=>setTimeout(resolve, config.retryDelay));\n        return api(config);\n    }\n    // Handle API errors\n    handleApiError(error);\n});\n// Enhanced Patients API with validation and error handling\nconst patientsAPI = {\n    getAllPatients: async function() {\n        let params = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        try {\n            const response = await api.get(\"/patients\", {\n                params\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch patients:\", error);\n            throw error;\n        }\n    },\n    getPatient: async (id)=>{\n        if (!id) throw new Error(\"Patient ID is required\");\n        try {\n            const response = await api.get(\"/patients/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch patient \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    createPatient: async (data)=>{\n        var _processedData_mobileNumber, _processedData_chiefComplaints;\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid patient data is required\");\n        }\n        // Make a copy of data to avoid modifying the original\n        const processedData = {\n            ...data\n        };\n        // Ensure these fields have non-empty values\n        processedData.mobileNumber = ((_processedData_mobileNumber = processedData.mobileNumber) === null || _processedData_mobileNumber === void 0 ? void 0 : _processedData_mobileNumber.toString().trim()) || \"\";\n        processedData.chiefComplaints = ((_processedData_chiefComplaints = processedData.chiefComplaints) === null || _processedData_chiefComplaints === void 0 ? void 0 : _processedData_chiefComplaints.toString().trim()) || \"\";\n        // Log the input data for debugging\n        (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"Creating Patient - Input Data\", processedData, \"info\");\n        // Validate required fields before sending to API\n        if (!processedData.name) throw new Error(\"Patient name is required\");\n        if (!processedData.address) throw new Error(\"Address is required\");\n        if (processedData.age === undefined || processedData.age === null || isNaN(parseInt(processedData.age))) throw new Error(\"Valid age is required\");\n        if (!processedData.sex) throw new Error(\"Sex is required\");\n        if (!processedData.mobileNumber) throw new Error(\"Mobile number is required\");\n        if (!processedData.chiefComplaints) throw new Error(\"Chief complaints are required\");\n        // Extra debug for these critical fields\n        console.log(\"Critical fields check before API call:\", {\n            mobileNumber: processedData.mobileNumber,\n            chiefComplaints: processedData.chiefComplaints\n        });\n        try {\n            var _processedData_guardianName, _processedData_occupation;\n            // Fetch the current user's information first to get their ID\n            let currentUser = null;\n            try {\n                // Get current user from the API (to get the ID for association)\n                const userResponse = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"\".concat(BASE_URL, \"/api/users/me\"));\n                currentUser = userResponse.data;\n                (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"Current user fetched for patient creation\", {\n                    userId: currentUser.id\n                }, \"info\");\n            } catch (userError) {\n                console.error(\"Failed to fetch current user for patient creation:\", userError);\n                throw new Error(\"Unable to create patient: Authentication required\");\n            }\n            // Create default objects for JSON fields\n            const defaultMedicalHistory = {\n                pastHistory: {\n                    allergy: false,\n                    anemia: false,\n                    arthritis: false,\n                    asthma: false,\n                    cancer: false,\n                    diabetes: false,\n                    heartDisease: false,\n                    hypertension: false,\n                    thyroid: false,\n                    tuberculosis: false\n                },\n                familyHistory: {\n                    diabetes: false,\n                    hypertension: false,\n                    thyroid: false,\n                    tuberculosis: false,\n                    cancer: false\n                }\n            };\n            const defaultPhysicalGenerals = {\n                appetite: \"\",\n                bowel: \"\",\n                urine: \"\",\n                sweating: \"\",\n                sleep: \"\",\n                thirst: \"\",\n                addictions: \"\"\n            };\n            const defaultFoodAndHabit = {\n                foodHabit: \"\",\n                addictions: \"\"\n            };\n            const defaultMenstrualHistory = processedData.sex === \"Female\" ? {\n                menses: \"\",\n                menopause: \"No\",\n                leucorrhoea: \"\",\n                gonorrhea: \"No\",\n                otherDischarges: \"\"\n            } : null;\n            // Ensure JSON fields are properly structured and have default values\n            const sanitizedData = {\n                // Base data\n                name: processedData.name.trim(),\n                guardianName: ((_processedData_guardianName = processedData.guardianName) === null || _processedData_guardianName === void 0 ? void 0 : _processedData_guardianName.trim()) || null,\n                address: processedData.address.trim(),\n                age: parseInt(processedData.age),\n                sex: processedData.sex,\n                occupation: ((_processedData_occupation = processedData.occupation) === null || _processedData_occupation === void 0 ? void 0 : _processedData_occupation.trim()) || \"\",\n                // These fields are critical and often failing\n                mobileNumber: processedData.mobileNumber.trim(),\n                chiefComplaints: processedData.chiefComplaints.trim(),\n                // Add the user ID from current user - critical for the relation\n                userId: currentUser.id,\n                // Ensure JSON fields are properly structured - already objects, will be stringified in interceptor\n                medicalHistory: processedData.medicalHistory || defaultMedicalHistory,\n                physicalGenerals: processedData.physicalGenerals || defaultPhysicalGenerals,\n                foodAndHabit: processedData.foodAndHabit || defaultFoodAndHabit,\n                // Only include menstrualHistory for female patients\n                menstrualHistory: processedData.sex === \"Female\" ? processedData.menstrualHistory || defaultMenstrualHistory : null\n            };\n            // Log the sanitized data for debugging\n            (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"Creating Patient - Sanitized Data\", sanitizedData, \"info\");\n            // Use direct axios call to bypass interceptors for this critical operation\n            const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(\"\".concat(BASE_URL, \"/api/patients\"), sanitizedData, {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            // Log the success response\n            (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"Patient Created Successfully\", response.data, \"info\");\n            return response.data;\n        } catch (error) {\n            var _error_config;\n            // Log the error with detailed information\n            (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"Failed to create patient\", error, \"error\");\n            // Enhanced error handling\n            let errorMessage = \"Failed to create patient\";\n            let errorDetails = \"\";\n            if (error.response) {\n                var _error_response_data, _error_response_data1;\n                errorMessage = ((_error_response_data = error.response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || errorMessage;\n                errorDetails = ((_error_response_data1 = error.response.data) === null || _error_response_data1 === void 0 ? void 0 : _error_response_data1.details) || \"\";\n                // Log full error details\n                (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"API Error Response\", {\n                    status: error.response.status,\n                    statusText: error.response.statusText,\n                    data: error.response.data\n                }, \"error\");\n            } else if (error.request) {\n                errorMessage = \"Network error - no response received\";\n                (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"API Request Error\", error.request, \"error\");\n            } else {\n                errorMessage = error.message || errorMessage;\n            }\n            (0,_utils_debugLog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"API Error Details\", {\n                message: errorMessage,\n                details: errorDetails,\n                request: ((_error_config = error.config) === null || _error_config === void 0 ? void 0 : _error_config.data) ? JSON.parse(error.config.data) : null\n            }, \"error\");\n            throw new Error(\"\".concat(errorMessage).concat(errorDetails ? \": \" + errorDetails : \"\"));\n        }\n    },\n    updatePatient: async (id, data)=>{\n        if (!id) throw new Error(\"Patient ID is required\");\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid patient data is required\");\n        }\n        try {\n            const response = await api.put(\"/patients/\".concat(id), data);\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to update patient \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    deletePatient: async (id)=>{\n        if (!id) throw new Error(\"Patient ID is required\");\n        try {\n            const response = await api.delete(\"/patients/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to delete patient \".concat(id, \":\"), error);\n            throw error;\n        }\n    }\n};\n// Enhanced Investigations API\nconst investigationsAPI = {\n    getAllInvestigations: async function() {\n        let patientId = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n        try {\n            console.log(\"API call: getAllInvestigations, patientId:\", patientId);\n            const params = patientId ? {\n                patientId\n            } : {};\n            // Use direct axios call to ensure we have full control over the request\n            const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"\".concat(BASE_URL, \"/api/investigations\"), {\n                params,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            console.log(\"API response for investigations:\", response.status, response.data);\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch investigations:\", error);\n            if (error.response) {\n                console.error(\"Error response:\", error.response.status, error.response.data);\n            }\n            throw error;\n        }\n    },\n    getInvestigation: async (id)=>{\n        if (!id) throw new Error(\"Investigation ID is required\");\n        try {\n            const response = await api.get(\"/investigations/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch investigation \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    createInvestigation: async (data)=>{\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid investigation data is required\");\n        }\n        // Validate required fields before sending\n        if (!data.patientId) throw new Error(\"Patient ID is required\");\n        if (!data.type) throw new Error(\"Investigation type is required\");\n        if (!data.details) throw new Error(\"Details are required\");\n        if (!data.date) throw new Error(\"Date is required\");\n        try {\n            // Use direct axios for critical operations\n            const sanitizedData = {\n                patientId: data.patientId,\n                type: data.type,\n                details: data.details,\n                // Ensure date is in the correct format\n                date: data.date instanceof Date ? data.date.toISOString() : new Date(data.date).toISOString(),\n                fileUrl: data.fileUrl || null\n            };\n            console.log(\"Creating investigation with data:\", sanitizedData);\n            // Use direct axios call to bypass interceptors for this critical operation\n            const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(\"\".concat(BASE_URL, \"/api/investigations\"), sanitizedData, {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            console.log(\"Investigation created:\", response.status, response.data);\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to create investigation:\", error);\n            if (error.response) {\n                console.error(\"Error response:\", error.response.status, error.response.data);\n            }\n            throw error;\n        }\n    },\n    updateInvestigation: async (id, data)=>{\n        if (!id) throw new Error(\"Investigation ID is required\");\n        if (!data || typeof data !== \"object\") {\n            throw new Error(\"Valid investigation data is required\");\n        }\n        try {\n            const response = await api.put(\"/investigations/\".concat(id), data);\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to update investigation \".concat(id, \":\"), error);\n            throw error;\n        }\n    },\n    deleteInvestigation: async (id)=>{\n        if (!id) throw new Error(\"Investigation ID is required\");\n        try {\n            const response = await api.delete(\"/investigations/\".concat(id));\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to delete investigation \".concat(id, \":\"), error);\n            throw error;\n        }\n    }\n};\n// Enhanced Auth/Users API\nconst authAPI = {\n    getCurrentUser: async ()=>{\n        try {\n            const response = await api.get(\"/users/me\");\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch current user:\", error);\n            throw error;\n        }\n    },\n    getUsers: async ()=>{\n        try {\n            const response = await api.get(\"/users\");\n            return response.data;\n        } catch (error) {\n            console.error(\"Failed to fetch users:\", error);\n            throw error;\n        }\n    },\n    // These are handled by NextAuth, but keeping for compatibility\n    login: async (email, password)=>{\n        throw new Error(\"Use NextAuth signIn instead of this method\");\n    },\n    logout: async ()=>{\n        throw new Error(\"Use NextAuth signOut instead of this method\");\n    }\n};\n// Enhanced Health check API\nconst healthAPI = {\n    check: async ()=>{\n        try {\n            const response = await api.get(\"/health\");\n            return response.data;\n        } catch (error) {\n            console.error(\"Health check failed:\", error);\n            throw error;\n        }\n    }\n};\n// Utility functions for common operations\nconst apiUtils = {\n    // Check if API is available\n    isApiHealthy: async ()=>{\n        try {\n            await healthAPI.check();\n            return true;\n        } catch (e) {\n            return false;\n        }\n    },\n    // Test database connection\n    testConnection: async ()=>{\n        try {\n            const health = await healthAPI.check();\n            return health.database === \"connected\";\n        } catch (e) {\n            return false;\n        }\n    },\n    // Get API base URL\n    getBaseUrl: ()=>\"\".concat(BASE_URL, \"/api\")\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (api);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixNQUFNaEgsV0FBVyxNQUFNVCxJQUFJd0MsR0FBRyxDQUFDO1lBQy9CLE9BQU8vQixTQUFTRSxJQUFJO1FBQ3RCLEVBQUUsT0FBT0gsT0FBTztZQUNkVixRQUFRVSxLQUFLLENBQUMsd0JBQXdCQTtZQUN0QyxNQUFNQTtRQUNSO0lBQ0Y7QUFDRixFQUFFO0FBRUYsMENBQTBDO0FBQ25DLE1BQU1rSCxXQUFXO0lBQ3RCLDRCQUE0QjtJQUM1QkMsY0FBYztRQUNaLElBQUk7WUFDRixNQUFNSCxVQUFVQyxLQUFLO1lBQ3JCLE9BQU87UUFDVCxFQUFFLFVBQU07WUFDTixPQUFPO1FBQ1Q7SUFDRjtJQUVBLDJCQUEyQjtJQUMzQkcsZ0JBQWdCO1FBQ2QsSUFBSTtZQUNGLE1BQU1DLFNBQVMsTUFBTUwsVUFBVUMsS0FBSztZQUNwQyxPQUFPSSxPQUFPQyxRQUFRLEtBQUs7UUFDN0IsRUFBRSxVQUFNO1lBQ04sT0FBTztRQUNUO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkJDLFlBQVksSUFBTSxHQUFZLE9BQVQ3SSxVQUFTO0FBQ2hDLEVBQUU7QUFFRiwrREFBZWMsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvc2VydmljZXMvYXBpLW5leHRqcy5qcz9kNTJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBOZXh0LmpzIEFQSSBTZXJ2aWNlIE1vZHVsZVxyXG4gKiBcclxuICogRW5oYW5jZWQgQVBJIHNlcnZpY2Ugd2l0aCByb2J1c3QgZXJyb3IgaGFuZGxpbmcsIHJldHJ5IGxvZ2ljLCBhbmQgcHJvcGVyIGRhdGEgdHJhbnNmb3JtYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgeyBcclxuICAgIHNuYWtlVG9DYW1lbENhc2UsIFxyXG4gICAgY2FtZWxUb1NuYWtlQ2FzZSxcclxuICAgIHRyYW5zZm9ybUlmTmVlZGVkIFxyXG59IGZyb20gJy4uL3V0aWxzL2RhdGFUcmFuc2Zvcm0nO1xyXG5pbXBvcnQgZGVidWdMb2cgZnJvbSAnLi4vdXRpbHMvZGVidWdMb2cnO1xyXG5cclxuY29uc3QgQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nIFxyXG4gID8gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cHM6Ly95b3VyLWFwcC52ZXJjZWwuYXBwJ1xyXG4gIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdHJhbnNmb3JtIEpTT04gc3RyaW5nIGZpZWxkcyB0byBvYmplY3RzXHJcbmNvbnN0IHRyYW5zZm9ybUpzb25GaWVsZHMgPSAoaXRlbSkgPT4ge1xyXG4gIGlmICghaXRlbSB8fCB0eXBlb2YgaXRlbSAhPT0gJ29iamVjdCcpIHJldHVybiBpdGVtO1xyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdCA9IHsgLi4uaXRlbSB9O1xyXG4gIFxyXG4gIC8vIFRoZXNlIGZpZWxkcyBzaG91bGQgYmUgb2JqZWN0cywgbm90IEpTT04gc3RyaW5nc1xyXG4gIFsnbWVkaWNhbEhpc3RvcnknLCAncGh5c2ljYWxHZW5lcmFscycsICdtZW5zdHJ1YWxIaXN0b3J5JywgJ2Zvb2RBbmRIYWJpdCddLmZvckVhY2goZmllbGQgPT4ge1xyXG4gICAgaWYgKHJlc3VsdFtmaWVsZF0gJiYgdHlwZW9mIHJlc3VsdFtmaWVsZF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmVzdWx0W2ZpZWxkXSA9IEpTT04ucGFyc2UocmVzdWx0W2ZpZWxkXSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgQ291bGQgbm90IHBhcnNlICR7ZmllbGR9IGFzIEpTT046YCwgZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuLy8gQ3JlYXRlIGF4aW9zIGluc3RhbmNlIHdpdGggZW5oYW5jZWQgY29uZmlndXJhdGlvblxyXG5jb25zdCBhcGkgPSBheGlvcy5jcmVhdGUoe1xyXG4gIGJhc2VVUkw6IGAke0JBU0VfVVJMfS9hcGlgLFxyXG4gIHRpbWVvdXQ6IDMwMDAwLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgfSxcclxuICAvLyBSZXRyeSBjb25maWd1cmF0aW9uXHJcbiAgcmV0cnk6IDMsXHJcbiAgcmV0cnlEZWxheTogMTAwMCxcclxufSk7XHJcblxyXG4vLyBFbmhhbmNlZCBlcnJvciBoYW5kbGVyXHJcbmNvbnN0IGhhbmRsZUFwaUVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XHJcbiAgICAvLyBTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggZXJyb3Igc3RhdHVzXHJcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gZXJyb3IucmVzcG9uc2U7XHJcbiAgICBcclxuICAgIC8vIEZvciBkZWJ1Z2dpbmcgdmFsaWRhdGlvbiBlcnJvcnNcclxuICAgIGlmIChzdGF0dXMgPT09IDQwMCAmJiBkYXRhLmRldGFpbHMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBlcnJvciBkZXRhaWxzOicsIGRhdGEuZGV0YWlscyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgIGNhc2UgNDAwOlxyXG4gICAgICAgIC8vIENyZWF0ZSBhIG1vcmUgZGV0YWlsZWQgZXJyb3IgZm9yIHZhbGlkYXRpb24gZmFpbHVyZXNcclxuICAgICAgICBjb25zdCBlcnJvck1zZyA9IGRhdGEuZGV0YWlscyBcclxuICAgICAgICAgID8gYCR7ZGF0YS5tZXNzYWdlfTogJHtkYXRhLmRldGFpbHN9YFxyXG4gICAgICAgICAgOiAoZGF0YS5tZXNzYWdlIHx8ICdJbnZhbGlkIHJlcXVlc3QgZGF0YScpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XHJcbiAgICAgIGNhc2UgNDAxOlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gcmVxdWlyZWQuIFBsZWFzZSBsb2cgaW4gYWdhaW4uJyk7XHJcbiAgICAgIGNhc2UgNDAzOlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gcGVyZm9ybSB0aGlzIGFjdGlvbicpO1xyXG4gICAgICBjYXNlIDQwNDpcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXF1ZXN0ZWQgcmVzb3VyY2Ugd2FzIG5vdCBmb3VuZCcpO1xyXG4gICAgICBjYXNlIDQwOTpcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdSZXNvdXJjZSBjb25mbGljdCcpO1xyXG4gICAgICBjYXNlIDQyMjpcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdWYWxpZGF0aW9uIGVycm9yJyk7XHJcbiAgICAgIGNhc2UgNTAwOlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgYFJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzICR7c3RhdHVzfWApO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkge1xyXG4gICAgLy8gTmV0d29yayBlcnJvclxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFJlcXVlc3Qgc2V0dXAgZXJyb3JcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gUmV0cnkgbG9naWMgZm9yIGZhaWxlZCByZXF1ZXN0c1xyXG5jb25zdCByZXRyeVJlcXVlc3QgPSBhc3luYyAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgeyByZXRyeSwgcmV0cnlEZWxheSB9ID0gY29uZmlnO1xyXG4gIFxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0cnk7IGkrKykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IGF4aW9zKGNvbmZpZyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBpZiAoaSA9PT0gcmV0cnkgLSAxKSB0aHJvdyBlcnJvcjtcclxuICAgICAgXHJcbiAgICAgIC8vIERvbid0IHJldHJ5IGNsaWVudCBlcnJvcnMgKDR4eClcclxuICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA+PSA0MDAgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzIDwgNTAwKSB7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFdhaXQgYmVmb3JlIHJldHJ5XHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCByZXRyeURlbGF5ICogKGkgKyAxKSkpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8vIEVuaGFuY2VkIHJlcXVlc3QgaW50ZXJjZXB0b3JcclxuYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcclxuICAoY29uZmlnKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhIGZyb20gY2FtZWxDYXNlIHRvIHNuYWtlX2Nhc2VcclxuICAgICAgaWYgKGNvbmZpZy5kYXRhICYmIHR5cGVvZiBjb25maWcuZGF0YSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBIYW5kbGUgbmVzdGVkIEpTT04gb2JqZWN0cyB0aGF0IG1pZ2h0IGJlIHN0cmluZ3NcclxuICAgICAgICBjb25zdCBwcm9jZXNzZWREYXRhID0geyAuLi5jb25maWcuZGF0YSB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvZyBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlcXVlc3QgcGF5bG9hZCBiZWZvcmUgcHJvY2Vzc2luZzonLCBwcm9jZXNzZWREYXRhKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbnN1cmUgcmVxdWlyZWQgZmllbGRzIGFyZSBwcmVzZW50IGFuZCBwcm9wZXJseSBmb3JtYXR0ZWRcclxuICAgICAgICBpZiAoY29uZmlnLnVybD8uaW5jbHVkZXMoJy9wYXRpZW50cycpICYmIChjb25maWcubWV0aG9kID09PSAncG9zdCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ3B1dCcpKSB7XHJcbiAgICAgICAgICAvLyBDaGVjayByZXF1aXJlZCBmaWVsZHNcclxuICAgICAgICAgIGlmICghcHJvY2Vzc2VkRGF0YS5tb2JpbGVOdW1iZXIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdNb2JpbGUgbnVtYmVyIG1pc3NpbmcgaW4gcmVxdWVzdCBwYXlsb2FkJyk7XHJcbiAgICAgICAgICAgIC8vIFNldCBhIGRlZmF1bHQgdG8gcHJldmVudCB1bmRlZmluZWQgZXJyb3JzXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZERhdGEubW9iaWxlTnVtYmVyID0gcHJvY2Vzc2VkRGF0YS5tb2JpbGVOdW1iZXIgfHwgJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIXByb2Nlc3NlZERhdGEuY2hpZWZDb21wbGFpbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ2hpZWYgY29tcGxhaW50cyBtaXNzaW5nIGluIHJlcXVlc3QgcGF5bG9hZCcpO1xyXG4gICAgICAgICAgICAvLyBTZXQgYSBkZWZhdWx0IHRvIHByZXZlbnQgdW5kZWZpbmVkIGVycm9yc1xyXG4gICAgICAgICAgICBwcm9jZXNzZWREYXRhLmNoaWVmQ29tcGxhaW50cyA9IHByb2Nlc3NlZERhdGEuY2hpZWZDb21wbGFpbnRzIHx8ICcnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBFbnN1cmUgdGhlc2UgZmllbGRzIGFyZSBwcm9wZXJseSBoYW5kbGVkIGZvciB0aGUgQVBJXHJcbiAgICAgICAgWydtZWRpY2FsSGlzdG9yeScsICdwaHlzaWNhbEdlbmVyYWxzJywgJ21lbnN0cnVhbEhpc3RvcnknLCAnZm9vZEFuZEhhYml0J10uZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICAgICAgICBpZiAocHJvY2Vzc2VkRGF0YVtmaWVsZF0pIHtcclxuICAgICAgICAgICAgLy8gSWYgaXQncyBhbHJlYWR5IGFuIG9iamVjdCwgc3RyaW5naWZ5IGl0IGZvciBzdG9yYWdlXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvY2Vzc2VkRGF0YVtmaWVsZF0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkRGF0YVtmaWVsZF0gPSBKU09OLnN0cmluZ2lmeShwcm9jZXNzZWREYXRhW2ZpZWxkXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3NlZERhdGFbZmllbGRdID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYWxyZWFkeSB2YWxpZCBKU09OIHN0cmluZ1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBKU09OLnBhcnNlKHByb2Nlc3NlZERhdGFbZmllbGRdKTtcclxuICAgICAgICAgICAgICAgIC8vIEl0J3MgYWxyZWFkeSBhIHZhbGlkIEpTT04gc3RyaW5nLCBsZWF2ZSBpdCBhcyBpc1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBzdHJpbmcgYnV0IG5vdCB2YWxpZCBKU09OLCBjb252ZXJ0IHRvIEpTT04gc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWREYXRhW2ZpZWxkXSA9IEpTT04uc3RyaW5naWZ5KHByb2Nlc3NlZERhdGFbZmllbGRdKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTa2lwIGNhbWVsVG9TbmFrZUNhc2UgdHJhbnNmb3JtYXRpb24gZm9yIHRoaXMgc3BlY2lmaWMgQVBJIHRvIHByZXZlbnQgZmllbGQgbmFtZSBpc3N1ZXNcclxuICAgICAgICAvLyBUaGUgYmFja2VuZCB1c2VzIGNhbWVsQ2FzZSBmaWVsZCBuYW1lcyBhbHJlYWR5XHJcbiAgICAgICAgY29uZmlnLmRhdGEgPSBwcm9jZXNzZWREYXRhO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcmFuc2Zvcm0gVVJMIHBhcmFtZXRlcnMgZnJvbSBjYW1lbENhc2UgdG8gc25ha2VfY2FzZVxyXG4gICAgICBpZiAoY29uZmlnLnBhcmFtcyAmJiB0eXBlb2YgY29uZmlnLnBhcmFtcyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBjb25maWcucGFyYW1zID0gY2FtZWxUb1NuYWtlQ2FzZShjb25maWcucGFyYW1zKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHJlcXVlc3QgaW50ZXJjZXB0b3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gY29uZmlnOyAvLyBSZXR1cm4gdGhlIG9yaWdpbmFsIGNvbmZpZyBpZiB0cmFuc2Zvcm1hdGlvbiBmYWlsc1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgKGVycm9yKSA9PiB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gIH1cclxuKTtcclxuXHJcbi8vIEVuaGFuY2VkIHJlc3BvbnNlIGludGVyY2VwdG9yXHJcbmFwaS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKFxyXG4gIChyZXNwb25zZSkgPT4ge1xyXG4gICAgLy8gU2tpcCB0cmFuc2Zvcm1hdGlvbiBzaW5jZSB3ZSdyZSBhbHJlYWR5IHVzaW5nIGNhbWVsQ2FzZSBjb25zaXN0ZW50bHlcclxuICAgIC8vIFBhcnNlIGFueSBKU09OIHN0cmluZ3MgdGhhdCBzaG91bGQgYmUgb2JqZWN0cyBpbiB0aGUgcmVzcG9uc2VcclxuICAgIGlmIChyZXNwb25zZS5kYXRhKSB7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKSB7XHJcbiAgICAgICAgLy8gSGFuZGxlIGFycmF5IHJlc3BvbnNlc1xyXG4gICAgICAgIHJlc3BvbnNlLmRhdGEgPSByZXNwb25zZS5kYXRhLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1Kc29uRmllbGRzKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEhhbmRsZSBzaW5nbGUgb2JqZWN0IHJlc3BvbnNlc1xyXG4gICAgICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1Kc29uRmllbGRzKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgfSxcclxuICBhc3luYyAoZXJyb3IpID0+IHtcclxuICAgIGNvbnN0IGNvbmZpZyA9IGVycm9yLmNvbmZpZztcclxuICAgIFxyXG4gICAgLy8gU2tpcCB0cmFuc2Zvcm1hdGlvbiBmb3IgZXJyb3IgcmVzcG9uc2VzIHRvb1xyXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEpIHtcclxuICAgICAgZXJyb3IucmVzcG9uc2UuZGF0YSA9IGVycm9yLnJlc3BvbnNlLmRhdGE7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJldHJ5IGxvZ2ljIGZvciBuZXR3b3JrIGVycm9ycyBhbmQgNXh4IGVycm9yc1xyXG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcucmV0cnkgJiYgKFxyXG4gICAgICAhZXJyb3IucmVzcG9uc2UgfHwgXHJcbiAgICAgIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPj0gNTAwICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA8IDYwMClcclxuICAgICkpIHtcclxuICAgICAgY29uZmlnLnJldHJ5LS07XHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBjb25maWcucmV0cnlEZWxheSkpO1xyXG4gICAgICByZXR1cm4gYXBpKGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEhhbmRsZSBBUEkgZXJyb3JzXHJcbiAgICBoYW5kbGVBcGlFcnJvcihlcnJvcik7XHJcbiAgfVxyXG4pO1xyXG5cclxuLy8gRW5oYW5jZWQgUGF0aWVudHMgQVBJIHdpdGggdmFsaWRhdGlvbiBhbmQgZXJyb3IgaGFuZGxpbmdcclxuZXhwb3J0IGNvbnN0IHBhdGllbnRzQVBJID0ge1xyXG4gIGdldEFsbFBhdGllbnRzOiBhc3luYyAocGFyYW1zID0ge30pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL3BhdGllbnRzJywgeyBwYXJhbXMgfSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHBhdGllbnRzOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZ2V0UGF0aWVudDogYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ1BhdGllbnQgSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KGAvcGF0aWVudHMvJHtpZH1gKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggcGF0aWVudCAke2lkfTpgLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGNyZWF0ZVBhdGllbnQ6IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWQgcGF0aWVudCBkYXRhIGlzIHJlcXVpcmVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ha2UgYSBjb3B5IG9mIGRhdGEgdG8gYXZvaWQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbFxyXG4gICAgY29uc3QgcHJvY2Vzc2VkRGF0YSA9IHsuLi5kYXRhfTtcclxuICAgIFxyXG4gICAgLy8gRW5zdXJlIHRoZXNlIGZpZWxkcyBoYXZlIG5vbi1lbXB0eSB2YWx1ZXNcclxuICAgIHByb2Nlc3NlZERhdGEubW9iaWxlTnVtYmVyID0gcHJvY2Vzc2VkRGF0YS5tb2JpbGVOdW1iZXI/LnRvU3RyaW5nKCkudHJpbSgpIHx8ICcnO1xyXG4gICAgcHJvY2Vzc2VkRGF0YS5jaGllZkNvbXBsYWludHMgPSBwcm9jZXNzZWREYXRhLmNoaWVmQ29tcGxhaW50cz8udG9TdHJpbmcoKS50cmltKCkgfHwgJyc7XHJcbiAgICBcclxuICAgIC8vIExvZyB0aGUgaW5wdXQgZGF0YSBmb3IgZGVidWdnaW5nXHJcbiAgICBkZWJ1Z0xvZygnQ3JlYXRpbmcgUGF0aWVudCAtIElucHV0IERhdGEnLCBwcm9jZXNzZWREYXRhLCAnaW5mbycpO1xyXG4gICAgXHJcbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHMgYmVmb3JlIHNlbmRpbmcgdG8gQVBJXHJcbiAgICBpZiAoIXByb2Nlc3NlZERhdGEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdQYXRpZW50IG5hbWUgaXMgcmVxdWlyZWQnKTtcclxuICAgIGlmICghcHJvY2Vzc2VkRGF0YS5hZGRyZXNzKSB0aHJvdyBuZXcgRXJyb3IoJ0FkZHJlc3MgaXMgcmVxdWlyZWQnKTtcclxuICAgIGlmIChwcm9jZXNzZWREYXRhLmFnZSA9PT0gdW5kZWZpbmVkIHx8IHByb2Nlc3NlZERhdGEuYWdlID09PSBudWxsIHx8IGlzTmFOKHBhcnNlSW50KHByb2Nlc3NlZERhdGEuYWdlKSkpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWQgYWdlIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBpZiAoIXByb2Nlc3NlZERhdGEuc2V4KSB0aHJvdyBuZXcgRXJyb3IoJ1NleCBpcyByZXF1aXJlZCcpO1xyXG4gICAgaWYgKCFwcm9jZXNzZWREYXRhLm1vYmlsZU51bWJlcikgdGhyb3cgbmV3IEVycm9yKCdNb2JpbGUgbnVtYmVyIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBpZiAoIXByb2Nlc3NlZERhdGEuY2hpZWZDb21wbGFpbnRzKSB0aHJvdyBuZXcgRXJyb3IoJ0NoaWVmIGNvbXBsYWludHMgYXJlIHJlcXVpcmVkJyk7XHJcbiAgICBcclxuICAgIC8vIEV4dHJhIGRlYnVnIGZvciB0aGVzZSBjcml0aWNhbCBmaWVsZHNcclxuICAgIGNvbnNvbGUubG9nKCdDcml0aWNhbCBmaWVsZHMgY2hlY2sgYmVmb3JlIEFQSSBjYWxsOicsIHtcclxuICAgICAgbW9iaWxlTnVtYmVyOiBwcm9jZXNzZWREYXRhLm1vYmlsZU51bWJlcixcclxuICAgICAgY2hpZWZDb21wbGFpbnRzOiBwcm9jZXNzZWREYXRhLmNoaWVmQ29tcGxhaW50c1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEZldGNoIHRoZSBjdXJyZW50IHVzZXIncyBpbmZvcm1hdGlvbiBmaXJzdCB0byBnZXQgdGhlaXIgSURcclxuICAgICAgbGV0IGN1cnJlbnRVc2VyID0gbnVsbDtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBHZXQgY3VycmVudCB1c2VyIGZyb20gdGhlIEFQSSAodG8gZ2V0IHRoZSBJRCBmb3IgYXNzb2NpYXRpb24pXHJcbiAgICAgICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0JBU0VfVVJMfS9hcGkvdXNlcnMvbWVgKTtcclxuICAgICAgICBjdXJyZW50VXNlciA9IHVzZXJSZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIGRlYnVnTG9nKCdDdXJyZW50IHVzZXIgZmV0Y2hlZCBmb3IgcGF0aWVudCBjcmVhdGlvbicsIHsgdXNlcklkOiBjdXJyZW50VXNlci5pZCB9LCAnaW5mbycpO1xyXG4gICAgICB9IGNhdGNoICh1c2VyRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggY3VycmVudCB1c2VyIGZvciBwYXRpZW50IGNyZWF0aW9uOicsIHVzZXJFcnJvcik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBhdGllbnQ6IEF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IG9iamVjdHMgZm9yIEpTT04gZmllbGRzXHJcbiAgICAgIGNvbnN0IGRlZmF1bHRNZWRpY2FsSGlzdG9yeSA9IHtcclxuICAgICAgICBwYXN0SGlzdG9yeToge1xyXG4gICAgICAgICAgYWxsZXJneTogZmFsc2UsIGFuZW1pYTogZmFsc2UsIGFydGhyaXRpczogZmFsc2UsIGFzdGhtYTogZmFsc2UsXHJcbiAgICAgICAgICBjYW5jZXI6IGZhbHNlLCBkaWFiZXRlczogZmFsc2UsIGhlYXJ0RGlzZWFzZTogZmFsc2UsIGh5cGVydGVuc2lvbjogZmFsc2UsXHJcbiAgICAgICAgICB0aHlyb2lkOiBmYWxzZSwgdHViZXJjdWxvc2lzOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmFtaWx5SGlzdG9yeToge1xyXG4gICAgICAgICAgZGlhYmV0ZXM6IGZhbHNlLCBoeXBlcnRlbnNpb246IGZhbHNlLCB0aHlyb2lkOiBmYWxzZSxcclxuICAgICAgICAgIHR1YmVyY3Vsb3NpczogZmFsc2UsIGNhbmNlcjogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkZWZhdWx0UGh5c2ljYWxHZW5lcmFscyA9IHtcclxuICAgICAgICBhcHBldGl0ZTogJycsIGJvd2VsOiAnJywgdXJpbmU6ICcnLCBzd2VhdGluZzogJycsIFxyXG4gICAgICAgIHNsZWVwOiAnJywgdGhpcnN0OiAnJywgYWRkaWN0aW9uczogJydcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRlZmF1bHRGb29kQW5kSGFiaXQgPSB7XHJcbiAgICAgICAgZm9vZEhhYml0OiAnJyxcclxuICAgICAgICBhZGRpY3Rpb25zOiAnJ1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGVmYXVsdE1lbnN0cnVhbEhpc3RvcnkgPSBwcm9jZXNzZWREYXRhLnNleCA9PT0gJ0ZlbWFsZScgPyB7XHJcbiAgICAgICAgbWVuc2VzOiAnJywgbWVub3BhdXNlOiAnTm8nLCBsZXVjb3JyaG9lYTogJycsXHJcbiAgICAgICAgZ29ub3JyaGVhOiAnTm8nLCBvdGhlckRpc2NoYXJnZXM6ICcnXHJcbiAgICAgIH0gOiBudWxsO1xyXG4gICAgICBcclxuICAgICAgLy8gRW5zdXJlIEpTT04gZmllbGRzIGFyZSBwcm9wZXJseSBzdHJ1Y3R1cmVkIGFuZCBoYXZlIGRlZmF1bHQgdmFsdWVzXHJcbiAgICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSB7XHJcbiAgICAgICAgLy8gQmFzZSBkYXRhXHJcbiAgICAgICAgbmFtZTogcHJvY2Vzc2VkRGF0YS5uYW1lLnRyaW0oKSxcclxuICAgICAgICBndWFyZGlhbk5hbWU6IHByb2Nlc3NlZERhdGEuZ3VhcmRpYW5OYW1lPy50cmltKCkgfHwgbnVsbCxcclxuICAgICAgICBhZGRyZXNzOiBwcm9jZXNzZWREYXRhLmFkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgIGFnZTogcGFyc2VJbnQocHJvY2Vzc2VkRGF0YS5hZ2UpLFxyXG4gICAgICAgIHNleDogcHJvY2Vzc2VkRGF0YS5zZXgsXHJcbiAgICAgICAgb2NjdXBhdGlvbjogcHJvY2Vzc2VkRGF0YS5vY2N1cGF0aW9uPy50cmltKCkgfHwgJycsXHJcbiAgICAgICAgLy8gVGhlc2UgZmllbGRzIGFyZSBjcml0aWNhbCBhbmQgb2Z0ZW4gZmFpbGluZ1xyXG4gICAgICAgIG1vYmlsZU51bWJlcjogcHJvY2Vzc2VkRGF0YS5tb2JpbGVOdW1iZXIudHJpbSgpLFxyXG4gICAgICAgIGNoaWVmQ29tcGxhaW50czogcHJvY2Vzc2VkRGF0YS5jaGllZkNvbXBsYWludHMudHJpbSgpLFxyXG4gICAgICAgIC8vIEFkZCB0aGUgdXNlciBJRCBmcm9tIGN1cnJlbnQgdXNlciAtIGNyaXRpY2FsIGZvciB0aGUgcmVsYXRpb25cclxuICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLmlkLFxyXG4gICAgICAgIC8vIEVuc3VyZSBKU09OIGZpZWxkcyBhcmUgcHJvcGVybHkgc3RydWN0dXJlZCAtIGFscmVhZHkgb2JqZWN0cywgd2lsbCBiZSBzdHJpbmdpZmllZCBpbiBpbnRlcmNlcHRvclxyXG4gICAgICAgIG1lZGljYWxIaXN0b3J5OiBwcm9jZXNzZWREYXRhLm1lZGljYWxIaXN0b3J5IHx8IGRlZmF1bHRNZWRpY2FsSGlzdG9yeSxcclxuICAgICAgICBwaHlzaWNhbEdlbmVyYWxzOiBwcm9jZXNzZWREYXRhLnBoeXNpY2FsR2VuZXJhbHMgfHwgZGVmYXVsdFBoeXNpY2FsR2VuZXJhbHMsXHJcbiAgICAgICAgZm9vZEFuZEhhYml0OiBwcm9jZXNzZWREYXRhLmZvb2RBbmRIYWJpdCB8fCBkZWZhdWx0Rm9vZEFuZEhhYml0LFxyXG4gICAgICAgIC8vIE9ubHkgaW5jbHVkZSBtZW5zdHJ1YWxIaXN0b3J5IGZvciBmZW1hbGUgcGF0aWVudHNcclxuICAgICAgICBtZW5zdHJ1YWxIaXN0b3J5OiBwcm9jZXNzZWREYXRhLnNleCA9PT0gJ0ZlbWFsZScgPyAocHJvY2Vzc2VkRGF0YS5tZW5zdHJ1YWxIaXN0b3J5IHx8IGRlZmF1bHRNZW5zdHJ1YWxIaXN0b3J5KSA6IG51bGxcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvZyB0aGUgc2FuaXRpemVkIGRhdGEgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICBkZWJ1Z0xvZygnQ3JlYXRpbmcgUGF0aWVudCAtIFNhbml0aXplZCBEYXRhJywgc2FuaXRpemVkRGF0YSwgJ2luZm8nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFVzZSBkaXJlY3QgYXhpb3MgY2FsbCB0byBieXBhc3MgaW50ZXJjZXB0b3JzIGZvciB0aGlzIGNyaXRpY2FsIG9wZXJhdGlvblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QkFTRV9VUkx9L2FwaS9wYXRpZW50c2AsIHNhbml0aXplZERhdGEsIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvZyB0aGUgc3VjY2VzcyByZXNwb25zZVxyXG4gICAgICBkZWJ1Z0xvZygnUGF0aWVudCBDcmVhdGVkIFN1Y2Nlc3NmdWxseScsIHJlc3BvbnNlLmRhdGEsICdpbmZvJyk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIExvZyB0aGUgZXJyb3Igd2l0aCBkZXRhaWxlZCBpbmZvcm1hdGlvblxyXG4gICAgICBkZWJ1Z0xvZygnRmFpbGVkIHRvIGNyZWF0ZSBwYXRpZW50JywgZXJyb3IsICdlcnJvcicpO1xyXG4gICAgICBcclxuICAgICAgLy8gRW5oYW5jZWQgZXJyb3IgaGFuZGxpbmdcclxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gY3JlYXRlIHBhdGllbnQnO1xyXG4gICAgICBsZXQgZXJyb3JEZXRhaWxzID0gJyc7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcclxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhPy5tZXNzYWdlIHx8IGVycm9yTWVzc2FnZTtcclxuICAgICAgICBlcnJvckRldGFpbHMgPSBlcnJvci5yZXNwb25zZS5kYXRhPy5kZXRhaWxzIHx8ICcnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvZyBmdWxsIGVycm9yIGRldGFpbHNcclxuICAgICAgICBkZWJ1Z0xvZygnQVBJIEVycm9yIFJlc3BvbnNlJywge1xyXG4gICAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgICBzdGF0dXNUZXh0OiBlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgZGF0YTogZXJyb3IucmVzcG9uc2UuZGF0YVxyXG4gICAgICAgIH0sICdlcnJvcicpO1xyXG4gICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHtcclxuICAgICAgICBlcnJvck1lc3NhZ2UgPSAnTmV0d29yayBlcnJvciAtIG5vIHJlc3BvbnNlIHJlY2VpdmVkJztcclxuICAgICAgICBkZWJ1Z0xvZygnQVBJIFJlcXVlc3QgRXJyb3InLCBlcnJvci5yZXF1ZXN0LCAnZXJyb3InKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IGVycm9yTWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgZGVidWdMb2coJ0FQSSBFcnJvciBEZXRhaWxzJywge1xyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcclxuICAgICAgICBkZXRhaWxzOiBlcnJvckRldGFpbHMsXHJcbiAgICAgICAgcmVxdWVzdDogZXJyb3IuY29uZmlnPy5kYXRhID8gSlNPTi5wYXJzZShlcnJvci5jb25maWcuZGF0YSkgOiBudWxsXHJcbiAgICAgIH0sICdlcnJvcicpO1xyXG4gICAgICBcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2Vycm9yTWVzc2FnZX0ke2Vycm9yRGV0YWlscyA/ICc6ICcgKyBlcnJvckRldGFpbHMgOiAnJ31gKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICB1cGRhdGVQYXRpZW50OiBhc3luYyAoaWQsIGRhdGEpID0+IHtcclxuICAgIGlmICghaWQpIHRocm93IG5ldyBFcnJvcignUGF0aWVudCBJRCBpcyByZXF1aXJlZCcpO1xyXG4gICAgaWYgKCFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbGlkIHBhdGllbnQgZGF0YSBpcyByZXF1aXJlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wdXQoYC9wYXRpZW50cy8ke2lkfWAsIGRhdGEpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgcGF0aWVudCAke2lkfTpgLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGRlbGV0ZVBhdGllbnQ6IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgaWYgKCFpZCkgdGhyb3cgbmV3IEVycm9yKCdQYXRpZW50IElEIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmRlbGV0ZShgL3BhdGllbnRzLyR7aWR9YCk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSBwYXRpZW50ICR7aWR9OmAsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxufTtcclxuXHJcbi8vIEVuaGFuY2VkIEludmVzdGlnYXRpb25zIEFQSVxyXG5leHBvcnQgY29uc3QgaW52ZXN0aWdhdGlvbnNBUEkgPSB7XHJcbiAgZ2V0QWxsSW52ZXN0aWdhdGlvbnM6IGFzeW5jIChwYXRpZW50SWQgPSBudWxsKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQVBJIGNhbGw6IGdldEFsbEludmVzdGlnYXRpb25zLCBwYXRpZW50SWQ6JywgcGF0aWVudElkKTtcclxuICAgICAgY29uc3QgcGFyYW1zID0gcGF0aWVudElkID8geyBwYXRpZW50SWQgfSA6IHt9O1xyXG4gICAgICBcclxuICAgICAgLy8gVXNlIGRpcmVjdCBheGlvcyBjYWxsIHRvIGVuc3VyZSB3ZSBoYXZlIGZ1bGwgY29udHJvbCBvdmVyIHRoZSByZXF1ZXN0XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0JBU0VfVVJMfS9hcGkvaW52ZXN0aWdhdGlvbnNgLCB7IFxyXG4gICAgICAgIHBhcmFtcyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdBUEkgcmVzcG9uc2UgZm9yIGludmVzdGlnYXRpb25zOicsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGludmVzdGlnYXRpb25zOicsIGVycm9yKTtcclxuICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVzcG9uc2U6JywgZXJyb3IucmVzcG9uc2Uuc3RhdHVzLCBlcnJvci5yZXNwb25zZS5kYXRhKTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBnZXRJbnZlc3RpZ2F0aW9uOiBhc3luYyAoaWQpID0+IHtcclxuICAgIGlmICghaWQpIHRocm93IG5ldyBFcnJvcignSW52ZXN0aWdhdGlvbiBJRCBpcyByZXF1aXJlZCcpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQoYC9pbnZlc3RpZ2F0aW9ucy8ke2lkfWApO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBpbnZlc3RpZ2F0aW9uICR7aWR9OmAsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgY3JlYXRlSW52ZXN0aWdhdGlvbjogYXN5bmMgKGRhdGEpID0+IHtcclxuICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWxpZCBpbnZlc3RpZ2F0aW9uIGRhdGEgaXMgcmVxdWlyZWQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzIGJlZm9yZSBzZW5kaW5nXHJcbiAgICBpZiAoIWRhdGEucGF0aWVudElkKSB0aHJvdyBuZXcgRXJyb3IoJ1BhdGllbnQgSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgIGlmICghZGF0YS50eXBlKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmVzdGlnYXRpb24gdHlwZSBpcyByZXF1aXJlZCcpO1xyXG4gICAgaWYgKCFkYXRhLmRldGFpbHMpIHRocm93IG5ldyBFcnJvcignRGV0YWlscyBhcmUgcmVxdWlyZWQnKTtcclxuICAgIGlmICghZGF0YS5kYXRlKSB0aHJvdyBuZXcgRXJyb3IoJ0RhdGUgaXMgcmVxdWlyZWQnKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gVXNlIGRpcmVjdCBheGlvcyBmb3IgY3JpdGljYWwgb3BlcmF0aW9uc1xyXG4gICAgICBjb25zdCBzYW5pdGl6ZWREYXRhID0ge1xyXG4gICAgICAgIHBhdGllbnRJZDogZGF0YS5wYXRpZW50SWQsXHJcbiAgICAgICAgdHlwZTogZGF0YS50eXBlLFxyXG4gICAgICAgIGRldGFpbHM6IGRhdGEuZGV0YWlscyxcclxuICAgICAgICAvLyBFbnN1cmUgZGF0ZSBpcyBpbiB0aGUgY29ycmVjdCBmb3JtYXRcclxuICAgICAgICBkYXRlOiBkYXRhLmRhdGUgaW5zdGFuY2VvZiBEYXRlIFxyXG4gICAgICAgICAgICAgID8gZGF0YS5kYXRlLnRvSVNPU3RyaW5nKCkgXHJcbiAgICAgICAgICAgICAgOiBuZXcgRGF0ZShkYXRhLmRhdGUpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgZmlsZVVybDogZGF0YS5maWxlVXJsIHx8IG51bGxcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBpbnZlc3RpZ2F0aW9uIHdpdGggZGF0YTonLCBzYW5pdGl6ZWREYXRhKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFVzZSBkaXJlY3QgYXhpb3MgY2FsbCB0byBieXBhc3MgaW50ZXJjZXB0b3JzIGZvciB0aGlzIGNyaXRpY2FsIG9wZXJhdGlvblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QkFTRV9VUkx9L2FwaS9pbnZlc3RpZ2F0aW9uc2AsIHNhbml0aXplZERhdGEsIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdJbnZlc3RpZ2F0aW9uIGNyZWF0ZWQ6JywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGludmVzdGlnYXRpb246JywgZXJyb3IpO1xyXG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNwb25zZTonLCBlcnJvci5yZXNwb25zZS5zdGF0dXMsIGVycm9yLnJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZUludmVzdGlnYXRpb246IGFzeW5jIChpZCwgZGF0YSkgPT4ge1xyXG4gICAgaWYgKCFpZCkgdGhyb3cgbmV3IEVycm9yKCdJbnZlc3RpZ2F0aW9uIElEIGlzIHJlcXVpcmVkJyk7XHJcbiAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWQgaW52ZXN0aWdhdGlvbiBkYXRhIGlzIHJlcXVpcmVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnB1dChgL2ludmVzdGlnYXRpb25zLyR7aWR9YCwgZGF0YSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSBpbnZlc3RpZ2F0aW9uICR7aWR9OmAsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZGVsZXRlSW52ZXN0aWdhdGlvbjogYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmVzdGlnYXRpb24gSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZGVsZXRlKGAvaW52ZXN0aWdhdGlvbnMvJHtpZH1gKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGludmVzdGlnYXRpb24gJHtpZH06YCwgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LFxyXG59O1xyXG5cclxuLy8gRW5oYW5jZWQgQXV0aC9Vc2VycyBBUElcclxuZXhwb3J0IGNvbnN0IGF1dGhBUEkgPSB7XHJcbiAgZ2V0Q3VycmVudFVzZXI6IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL3VzZXJzL21lJyk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGdldFVzZXJzOiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQoJy91c2VycycpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyczonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gVGhlc2UgYXJlIGhhbmRsZWQgYnkgTmV4dEF1dGgsIGJ1dCBrZWVwaW5nIGZvciBjb21wYXRpYmlsaXR5XHJcbiAgbG9naW46IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVXNlIE5leHRBdXRoIHNpZ25JbiBpbnN0ZWFkIG9mIHRoaXMgbWV0aG9kJyk7XHJcbiAgfSxcclxuICBcclxuICBsb2dvdXQ6IGFzeW5jICgpID0+IHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVXNlIE5leHRBdXRoIHNpZ25PdXQgaW5zdGVhZCBvZiB0aGlzIG1ldGhvZCcpO1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBFbmhhbmNlZCBIZWFsdGggY2hlY2sgQVBJXHJcbmV4cG9ydCBjb25zdCBoZWFsdGhBUEkgPSB7XHJcbiAgY2hlY2s6IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL2hlYWx0aCcpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0hlYWx0aCBjaGVjayBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LFxyXG59O1xyXG5cclxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNvbW1vbiBvcGVyYXRpb25zXHJcbmV4cG9ydCBjb25zdCBhcGlVdGlscyA9IHtcclxuICAvLyBDaGVjayBpZiBBUEkgaXMgYXZhaWxhYmxlXHJcbiAgaXNBcGlIZWFsdGh5OiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBoZWFsdGhBUEkuY2hlY2soKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvblxyXG4gIHRlc3RDb25uZWN0aW9uOiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBoZWFsdGggPSBhd2FpdCBoZWFsdGhBUEkuY2hlY2soKTtcclxuICAgICAgcmV0dXJuIGhlYWx0aC5kYXRhYmFzZSA9PT0gJ2Nvbm5lY3RlZCc7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIEdldCBBUEkgYmFzZSBVUkxcclxuICBnZXRCYXNlVXJsOiAoKSA9PiBgJHtCQVNFX1VSTH0vYXBpYCxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaTtcclxuIl0sIm5hbWVzIjpbImF4aW9zIiwic25ha2VUb0NhbWVsQ2FzZSIsImNhbWVsVG9TbmFrZUNhc2UiLCJ0cmFuc2Zvcm1JZk5lZWRlZCIsImRlYnVnTG9nIiwiQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsInRyYW5zZm9ybUpzb25GaWVsZHMiLCJpdGVtIiwicmVzdWx0IiwiZm9yRWFjaCIsImZpZWxkIiwiSlNPTiIsInBhcnNlIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJhcGkiLCJjcmVhdGUiLCJiYXNlVVJMIiwidGltZW91dCIsImhlYWRlcnMiLCJyZXRyeSIsInJldHJ5RGVsYXkiLCJoYW5kbGVBcGlFcnJvciIsImVycm9yIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJkYXRhIiwiZGV0YWlscyIsImVycm9yTXNnIiwibWVzc2FnZSIsIkVycm9yIiwicmVxdWVzdCIsInJldHJ5UmVxdWVzdCIsImNvbmZpZyIsImkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJpbnRlcmNlcHRvcnMiLCJ1c2UiLCJwcm9jZXNzZWREYXRhIiwidXJsIiwiaW5jbHVkZXMiLCJtZXRob2QiLCJtb2JpbGVOdW1iZXIiLCJ3YXJuIiwiY2hpZWZDb21wbGFpbnRzIiwic3RyaW5naWZ5IiwicGFyYW1zIiwicmVqZWN0IiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwicGF0aWVudHNBUEkiLCJnZXRBbGxQYXRpZW50cyIsImdldCIsImdldFBhdGllbnQiLCJpZCIsImNyZWF0ZVBhdGllbnQiLCJ0b1N0cmluZyIsInRyaW0iLCJuYW1lIiwiYWRkcmVzcyIsImFnZSIsInVuZGVmaW5lZCIsImlzTmFOIiwicGFyc2VJbnQiLCJzZXgiLCJjdXJyZW50VXNlciIsInVzZXJSZXNwb25zZSIsInVzZXJJZCIsInVzZXJFcnJvciIsImRlZmF1bHRNZWRpY2FsSGlzdG9yeSIsInBhc3RIaXN0b3J5IiwiYWxsZXJneSIsImFuZW1pYSIsImFydGhyaXRpcyIsImFzdGhtYSIsImNhbmNlciIsImRpYWJldGVzIiwiaGVhcnREaXNlYXNlIiwiaHlwZXJ0ZW5zaW9uIiwidGh5cm9pZCIsInR1YmVyY3Vsb3NpcyIsImZhbWlseUhpc3RvcnkiLCJkZWZhdWx0UGh5c2ljYWxHZW5lcmFscyIsImFwcGV0aXRlIiwiYm93ZWwiLCJ1cmluZSIsInN3ZWF0aW5nIiwic2xlZXAiLCJ0aGlyc3QiLCJhZGRpY3Rpb25zIiwiZGVmYXVsdEZvb2RBbmRIYWJpdCIsImZvb2RIYWJpdCIsImRlZmF1bHRNZW5zdHJ1YWxIaXN0b3J5IiwibWVuc2VzIiwibWVub3BhdXNlIiwibGV1Y29ycmhvZWEiLCJnb25vcnJoZWEiLCJvdGhlckRpc2NoYXJnZXMiLCJzYW5pdGl6ZWREYXRhIiwiZ3VhcmRpYW5OYW1lIiwib2NjdXBhdGlvbiIsIm1lZGljYWxIaXN0b3J5IiwicGh5c2ljYWxHZW5lcmFscyIsImZvb2RBbmRIYWJpdCIsIm1lbnN0cnVhbEhpc3RvcnkiLCJwb3N0IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JEZXRhaWxzIiwic3RhdHVzVGV4dCIsInVwZGF0ZVBhdGllbnQiLCJwdXQiLCJkZWxldGVQYXRpZW50IiwiZGVsZXRlIiwiaW52ZXN0aWdhdGlvbnNBUEkiLCJnZXRBbGxJbnZlc3RpZ2F0aW9ucyIsInBhdGllbnRJZCIsImdldEludmVzdGlnYXRpb24iLCJjcmVhdGVJbnZlc3RpZ2F0aW9uIiwidHlwZSIsImRhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJmaWxlVXJsIiwidXBkYXRlSW52ZXN0aWdhdGlvbiIsImRlbGV0ZUludmVzdGlnYXRpb24iLCJhdXRoQVBJIiwiZ2V0Q3VycmVudFVzZXIiLCJnZXRVc2VycyIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImxvZ291dCIsImhlYWx0aEFQSSIsImNoZWNrIiwiYXBpVXRpbHMiLCJpc0FwaUhlYWx0aHkiLCJ0ZXN0Q29ubmVjdGlvbiIsImhlYWx0aCIsImRhdGFiYXNlIiwiZ2V0QmFzZVVybCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/services/api-nextjs.js\n"));

/***/ })

});